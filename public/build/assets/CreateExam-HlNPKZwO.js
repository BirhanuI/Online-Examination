import{j as b,r as O,g as yu,R as X,b as Ou,W as xu,Y as Pu}from"./app-4AVB-xW9.js";import{r as Su,A as ju}from"./AuthenticatedLayout-BUmC99Mp.js";import{c as dr,g as zt,b as Wt,s as Ar,u as qt,_ as Vt,d as Ru,e as Ze,a as _r,f as Ht,B as Tu,i as Nu}from"./ButtonBase-CKr4Mqe7.js";import{B as on}from"./react-toastify.esm-DiskrPYb.js";import{A as Mu}from"./addSubject-74pPvSf4.js";import{g as Iu,h as ku}from"./throttle-tc0OGGGI.js";import{M as $u,a as Lu}from"./MathJax-CukLpxpV.js";import{P as zu,T as Ge,F as Wu,I as qu,S as Vu,a as Hu}from"./TextField-1d2FlS23.js";import{M as ln}from"./MenuItem-DHBnDkhK.js";import{A as fn}from"./Add-Q6ECX_pQ.js";import{B as Dt}from"./Button-DHHNnPFa.js";import{u as Ku,C as Uu}from"./useSlot-CVqAJ7JW.js";import{R as zr}from"./Radio-C1H0JqQE.js";import"./transition-UbmxnPUr.js";import"./dividerClasses-v2qh6TOH.js";import"./Modal-BAhfICXY.js";import"./useFormControl-VebDDcz3.js";import"./SwitchBase-S_xZmFuQ.js";const Gu=dr(b.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),Yu=dr(b.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),Xu=dr(b.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),Ju=dr(b.jsx("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote"),Zu=dr(b.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined"),Qu=dr(b.jsx("path",{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"}),"Functions"),_u=dr(b.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove"),ya=O.createContext({});function es(r){return Wt("MuiAccordion",r)}const Wr=zt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),rs=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],ts=r=>{const{classes:e,square:t,expanded:n,disabled:a,disableGutters:u}=r;return Ht({root:["root",!t&&"rounded",n&&"expanded",a&&"disabled",!u&&"gutters"],region:["region"]},es,e)},ns=Ar(zu,{name:"MuiAccordion",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${Wr.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(({theme:r})=>{const e={duration:r.transitions.duration.shortest};return{position:"relative",transition:r.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(r.vars||r).palette.divider,transition:r.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Wr.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Wr.disabled}`]:{backgroundColor:(r.vars||r).palette.action.disabledBackground}}},({theme:r})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(r.vars||r).shape.borderRadius,borderBottomRightRadius:(r.vars||r).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Wr.expanded}`]:{margin:"16px 0"}}}]})),as=O.forwardRef(function(e,t){const n=qt({props:e,name:"MuiAccordion"}),{children:a,className:u,defaultExpanded:s=!1,disabled:l=!1,disableGutters:c=!1,expanded:f,onChange:d,square:g=!1,slots:h={},slotProps:m={},TransitionComponent:C,TransitionProps:v}=n,i=Vt(n,rs),[B,A]=Ru({controlled:f,default:s,name:"Accordion",state:"expanded"}),F=O.useCallback(I=>{A(!B),d&&d(I,!B)},[B,d,A]),[S,...R]=O.Children.toArray(a),H=O.useMemo(()=>({expanded:B,disabled:l,disableGutters:c,toggle:F}),[B,l,c,F]),L=Ze({},n,{square:g,disabled:l,disableGutters:c,expanded:B}),U=ts(L),K=Ze({transition:C},h),z=Ze({transition:v},m),[$,y]=Ku("transition",{elementType:Uu,externalForwardedProps:{slots:K,slotProps:z},ownerState:L});return b.jsxs(ns,Ze({className:_r(U.root,u),ref:t,ownerState:L,square:g},i,{children:[b.jsx(ya.Provider,{value:H,children:S}),b.jsx($,Ze({in:B,timeout:"auto"},y,{children:b.jsx("div",{"aria-labelledby":S.props.id,id:S.props["aria-controls"],role:"region",className:U.region,children:R})}))]}))});function us(r){return Wt("MuiAccordionDetails",r)}zt("MuiAccordionDetails",["root"]);const ss=["className"],is=r=>{const{classes:e}=r;return Ht({root:["root"]},us,e)},os=Ar("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({padding:r.spacing(1,2,2)})),ls=O.forwardRef(function(e,t){const n=qt({props:e,name:"MuiAccordionDetails"}),{className:a}=n,u=Vt(n,ss),s=n,l=is(s);return b.jsx(os,Ze({className:_r(l.root,a),ref:t,ownerState:s},u))});function fs(r){return Wt("MuiAccordionSummary",r)}const hr=zt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),cs=["children","className","expandIcon","focusVisibleClassName","onClick"],ds=r=>{const{classes:e,expanded:t,disabled:n,disableGutters:a}=r;return Ht({root:["root",t&&"expanded",n&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},fs,e)},vs=Ar(Tu,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>{const e={duration:r.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:r.spacing(0,2),transition:r.transitions.create(["min-height","background-color"],e),[`&.${hr.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${hr.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},[`&:hover:not(.${hr.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${hr.expanded}`]:{minHeight:64}}}]}}),Ds=Ar("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(r,e)=>e.content})(({theme:r})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:r.transitions.create(["margin"],{duration:r.transitions.duration.shortest}),[`&.${hr.expanded}`]:{margin:"20px 0"}}}]})),hs=Ar("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(r,e)=>e.expandIconWrapper})(({theme:r})=>({display:"flex",color:(r.vars||r).palette.action.active,transform:"rotate(0deg)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shortest}),[`&.${hr.expanded}`]:{transform:"rotate(180deg)"}})),gs=O.forwardRef(function(e,t){const n=qt({props:e,name:"MuiAccordionSummary"}),{children:a,className:u,expandIcon:s,focusVisibleClassName:l,onClick:c}=n,f=Vt(n,cs),{disabled:d=!1,disableGutters:g,expanded:h,toggle:m}=O.useContext(ya),C=B=>{m&&m(B),c&&c(B)},v=Ze({},n,{expanded:h,disabled:d,disableGutters:g}),i=ds(v);return b.jsxs(vs,Ze({focusRipple:!1,disableRipple:!0,disabled:d,component:"div","aria-expanded":h,className:_r(i.root,u),focusVisibleClassName:_r(i.focusVisible,l),onClick:C,ref:t,ownerState:v},f,{children:[b.jsx(Ds,{className:i.content,ownerState:v,children:a}),s&&b.jsx(hs,{className:i.expandIconWrapper,ownerState:v,children:s})]}))});var Kt={},ps=Nu;Object.defineProperty(Kt,"__esModule",{value:!0});var Oa=Kt.default=void 0,ms=ps(Su()),Cs=b;Oa=Kt.default=(0,ms.default)((0,Cs.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function cn(r){return Object.prototype.toString.call(r)==="[object Object]"}function Fe(r){var e,t;return cn(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(cn(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}var xa=Symbol.for("immer-nothing"),dn=Symbol.for("immer-draftable"),Se=Symbol.for("immer-state");function Me(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Br=Object.getPrototypeOf;function lr(r){return!!r&&!!r[Se]}function fr(r){var e;return r?Pa(r)||Array.isArray(r)||!!r[dn]||!!((e=r.constructor)!=null&&e[dn])||ot(r)||lt(r):!1}var Bs=Object.prototype.constructor.toString();function Pa(r){if(!r||typeof r!="object")return!1;const e=Br(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Bs}function et(r,e){it(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function it(r){const e=r[Se];return e?e.type_:Array.isArray(r)?1:ot(r)?2:lt(r)?3:0}function yt(r,e){return it(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Sa(r,e,t){const n=it(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function Es(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function ot(r){return r instanceof Map}function lt(r){return r instanceof Set}function nr(r){return r.copy_||r.base_}function Ot(r,e){if(ot(r))return new Map(r);if(lt(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=Pa(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Se];let a=Reflect.ownKeys(n);for(let u=0;u<a.length;u++){const s=a[u],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[s]})}return Object.create(Br(r),n)}else{const n=Br(r);if(n!==null&&t)return{...r};const a=Object.create(n);return Object.assign(a,r)}}function Ut(r,e=!1){return ft(r)||lr(r)||!fr(r)||(it(r)>1&&(r.set=r.add=r.clear=r.delete=As),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>Ut(n,!0))),r}function As(){Me(2)}function ft(r){return Object.isFrozen(r)}var Fs={};function cr(r){const e=Fs[r];return e||Me(0,r),e}var jr;function ja(){return jr}function bs(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vn(r,e){e&&(cr("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function xt(r){Pt(r),r.drafts_.forEach(ws),r.drafts_=null}function Pt(r){r===jr&&(jr=r.parent_)}function Dn(r){return jr=bs(jr,r)}function ws(r){const e=r[Se];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hn(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Se].modified_&&(xt(e),Me(4)),fr(r)&&(r=rt(e,r),e.parent_||tt(e,r)),e.patches_&&cr("Patches").generateReplacementPatches_(t[Se].base_,r,e.patches_,e.inversePatches_)):r=rt(e,t,[]),xt(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==xa?r:void 0}function rt(r,e,t){if(ft(e))return e;const n=e[Se];if(!n)return et(e,(a,u)=>gn(r,n,e,a,u,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return tt(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let u=a,s=!1;n.type_===3&&(u=new Set(a),a.clear(),s=!0),et(u,(l,c)=>gn(r,n,a,l,c,t,s)),tt(r,a,!1),t&&r.patches_&&cr("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function gn(r,e,t,n,a,u,s){if(lr(a)){const l=u&&e&&e.type_!==3&&!yt(e.assigned_,n)?u.concat(n):void 0,c=rt(r,a,l);if(Sa(t,n,c),lr(c))r.canAutoFreeze_=!1;else return}else s&&t.add(a);if(fr(a)&&!ft(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;rt(r,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&tt(r,a)}}function tt(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Ut(e,t)}function ys(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:ja(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,u=Gt;t&&(a=[n],u=Rr);const{revoke:s,proxy:l}=Proxy.revocable(a,u);return n.draft_=l,n.revoke_=s,l}var Gt={get(r,e){if(e===Se)return r;const t=nr(r);if(!yt(t,e))return Os(r,t,e);const n=t[e];return r.finalized_||!fr(n)?n:n===ht(r.base_,e)?(gt(r),r.copy_[e]=jt(n,r)):n},has(r,e){return e in nr(r)},ownKeys(r){return Reflect.ownKeys(nr(r))},set(r,e,t){const n=Ra(nr(r),e);if(n!=null&&n.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const a=ht(nr(r),e),u=a==null?void 0:a[Se];if(u&&u.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(Es(t,a)&&(t!==void 0||yt(r.base_,e)))return!0;gt(r),St(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return ht(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,gt(r),St(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=nr(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Me(11)},getPrototypeOf(r){return Br(r.base_)},setPrototypeOf(){Me(12)}},Rr={};et(Gt,(r,e)=>{Rr[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rr.deleteProperty=function(r,e){return Rr.set.call(this,r,e,void 0)};Rr.set=function(r,e,t){return Gt.set.call(this,r[0],e,t,r[0])};function ht(r,e){const t=r[Se];return(t?nr(t):r)[e]}function Os(r,e,t){var a;const n=Ra(e,t);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(r.draft_):void 0}function Ra(r,e){if(!(e in r))return;let t=Br(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Br(t)}}function St(r){r.modified_||(r.modified_=!0,r.parent_&&St(r.parent_))}function gt(r){r.copy_||(r.copy_=Ot(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var xs=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const s=this;return function(c=u,...f){return s.produce(c,d=>t.call(this,d,...f))}}typeof t!="function"&&Me(6),n!==void 0&&typeof n!="function"&&Me(7);let a;if(fr(e)){const u=Dn(this),s=jt(e,void 0);let l=!0;try{a=t(s),l=!1}finally{l?xt(u):Pt(u)}return vn(u,n),hn(a,u)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===xa&&(a=void 0),this.autoFreeze_&&Ut(a,!0),n){const u=[],s=[];cr("Patches").generateReplacementPatches_(e,a,u,s),n(u,s)}return a}else Me(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let n,a;return[this.produce(e,t,(s,l)=>{n=s,a=l}),n,a]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){fr(r)||Me(8),lr(r)&&(r=Ps(r));const e=Dn(this),t=jt(r,void 0);return t[Se].isManual_=!0,Pt(e),t}finishDraft(r,e){const t=r&&r[Se];(!t||!t.isManual_)&&Me(9);const{scope_:n}=t;return vn(n,e),hn(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}t>-1&&(e=e.slice(t+1));const n=cr("Patches").applyPatches_;return lr(r)?n(r,e):this.produce(r,a=>n(a,e))}};function jt(r,e){const t=ot(r)?cr("MapSet").proxyMap_(r,e):lt(r)?cr("MapSet").proxySet_(r,e):ys(r,e);return(e?e.scope_:ja()).drafts_.push(t),t}function Ps(r){return lr(r)||Me(10,r),Ta(r)}function Ta(r){if(!fr(r)||ft(r))return r;const e=r[Se];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Ot(r,e.scope_.immer_.useStrictShallowCopy_)}else t=Ot(r,!0);return et(t,(n,a)=>{Sa(t,n,Ta(a))}),e&&(e.finalized_=!1),t}var je=new xs,Yt=je.produce;je.produceWithPatches.bind(je);je.setAutoFreeze.bind(je);je.setUseStrictShallowCopy.bind(je);je.applyPatches.bind(je);var pn=je.createDraft.bind(je),mn=je.finishDraft.bind(je),Ss={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var a=D.transform(t,e,{affinity:n});r.current=a,a==null&&r.unref()}}},js={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var a=re.transform(t,e,{affinity:n});r.current=a,a==null&&r.unref()}}},Rs={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var a=E.transform(t,e,{affinity:n});r.current=a,a==null&&r.unref()}}},nt=new WeakMap,at=new WeakMap,Or=new WeakMap,Na=new WeakMap,Cn=new WeakMap,Bn=new WeakMap,En=new WeakMap,D={ancestors(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=D.levels(r,e);return t?n=n.slice(1):n=n.slice(0,-1),n},common(r,e){for(var t=[],n=0;n<r.length&&n<e.length;n++){var a=r[n],u=e[n];if(a!==u)break;t.push(a)}return t},compare(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++){if(r[n]<e[n])return-1;if(r[n]>e[n])return 1}return 0},endsAfter(r,e){var t=r.length-1,n=r.slice(0,t),a=e.slice(0,t),u=r[t],s=e[t];return D.equals(n,a)&&u>s},endsAt(r,e){var t=r.length,n=r.slice(0,t),a=e.slice(0,t);return D.equals(n,a)},endsBefore(r,e){var t=r.length-1,n=r.slice(0,t),a=e.slice(0,t),u=r[t],s=e[t];return D.equals(n,a)&&u<s},equals(r,e){return r.length===e.length&&r.every((t,n)=>t===e[n])},hasPrevious(r){return r[r.length-1]>0},isAfter(r,e){return D.compare(r,e)===1},isAncestor(r,e){return r.length<e.length&&D.compare(r,e)===0},isBefore(r,e){return D.compare(r,e)===-1},isChild(r,e){return r.length===e.length+1&&D.compare(r,e)===0},isCommon(r,e){return r.length<=e.length&&D.compare(r,e)===0},isDescendant(r,e){return r.length>e.length&&D.compare(r,e)===0},isParent(r,e){return r.length+1===e.length&&D.compare(r,e)===0},isPath(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="number")},isSibling(r,e){if(r.length!==e.length)return!1;var t=r.slice(0,-1),n=e.slice(0,-1),a=r[r.length-1],u=e[e.length-1];return a!==u&&D.equals(t,n)},levels(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=[],a=0;a<=r.length;a++)n.push(r.slice(0,a));return t&&n.reverse(),n},next(r){if(r.length===0)throw new Error("Cannot get the next path of a root path [".concat(r,"], because it has no next index."));var e=r[r.length-1];return r.slice(0,-1).concat(e+1)},operationCanTransformPath(r){switch(r.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(r){if(r.length===0)throw new Error("Cannot get the parent path of the root path [".concat(r,"]."));return r.slice(0,-1)},previous(r){if(r.length===0)throw new Error("Cannot get the previous path of a root path [".concat(r,"], because it has no previous index."));var e=r[r.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(r,"] because it would result in a negative index."));return r.slice(0,-1).concat(e-1)},relative(r,e){if(!D.isAncestor(e,r)&&!D.equals(r,e))throw new Error("Cannot get the relative path of [".concat(r,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return r.slice(e.length)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!r)return null;var n=[...r],{affinity:a="forward"}=t;if(r.length===0)return n;switch(e.type){case"insert_node":{var{path:u}=e;(D.equals(u,n)||D.endsBefore(u,n)||D.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:s}=e;if(D.equals(s,n)||D.isAncestor(s,n))return null;D.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;D.equals(l,n)||D.endsBefore(l,n)?n[l.length-1]-=1:D.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=c);break}case"split_node":{var{path:f,position:d}=e;if(D.equals(f,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else D.endsBefore(f,n)?n[f.length-1]+=1:D.isAncestor(f,n)&&r[f.length]>=d&&(n[f.length-1]+=1,n[f.length]-=d);break}case"move_node":{var{path:g,newPath:h}=e;if(D.equals(g,h))return n;if(D.isAncestor(g,n)||D.equals(g,n)){var m=h.slice();return D.endsBefore(g,h)&&g.length<h.length&&(m[g.length-1]-=1),m.concat(n.slice(g.length))}else D.isSibling(g,h)&&(D.isAncestor(h,n)||D.equals(h,n))?D.endsBefore(g,n)?n[g.length-1]-=1:n[g.length-1]+=1:D.endsBefore(h,n)||D.equals(h,n)||D.isAncestor(h,n)?(D.endsBefore(g,n)&&(n[g.length-1]-=1),n[h.length-1]+=1):D.endsBefore(g,n)&&(D.equals(h,n)&&(n[h.length-1]+=1),n[g.length-1]-=1);break}}return n}};function Tr(r){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(r)}function Ts(r,e){if(Tr(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Tr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ns(r){var e=Ts(r,"string");return Tr(e)==="symbol"?e:String(e)}function Oe(r,e,t){return e=Ns(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function An(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function wr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?An(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):An(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ms=(r,e,t)=>{switch(t.type){case"insert_node":{var{path:n,node:a}=t,u=x.parent(r,n),s=n[n.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(s,0,a),e)for(var[l,c]of E.points(e))e[c]=re.transform(l,t);break}case"insert_text":{var{path:f,offset:d,text:g}=t;if(g.length===0)break;var h=x.leaf(r,f),m=h.text.slice(0,d),C=h.text.slice(d);if(h.text=m+g+C,e)for(var[v,i]of E.points(e))e[i]=re.transform(v,t);break}case"merge_node":{var{path:B}=t,A=x.get(r,B),F=D.previous(B),S=x.get(r,F),R=x.parent(r,B),H=B[B.length-1];if(W.isText(A)&&W.isText(S))S.text+=A.text;else if(!W.isText(A)&&!W.isText(S))S.children.push(...A.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(B,"] to nodes of different interfaces: ").concat(Be.stringify(A)," ").concat(Be.stringify(S)));if(R.children.splice(H,1),e)for(var[L,U]of E.points(e))e[U]=re.transform(L,t);break}case"move_node":{var{path:K,newPath:z}=t;if(D.isAncestor(K,z))throw new Error("Cannot move a path [".concat(K,"] to new path [").concat(z,"] because the destination is inside itself."));var $=x.get(r,K),y=x.parent(r,K),I=K[K.length-1];y.children.splice(I,1);var N=D.transform(K,t),M=x.get(r,D.parent(N)),ne=N[N.length-1];if(M.children.splice(ne,0,$),e)for(var[V,ue]of E.points(e))e[ue]=re.transform(V,t);break}case"remove_node":{var{path:_}=t,ae=_[_.length-1],oe=x.parent(r,_);if(oe.children.splice(ae,1),e)for(var[se,ee]of E.points(e)){var Ee=re.transform(se,t);if(e!=null&&Ee!=null)e[ee]=Ee;else{var J=void 0,p=void 0;for(var[k,P]of x.texts(r))if(D.compare(P,_)===-1)J=[k,P];else{p=[k,P];break}var j=!1;J&&p&&(D.equals(p[1],_)?j=!D.hasPrevious(p[1]):j=D.common(J[1],_).length<D.common(p[1],_).length),J&&!j?(se.path=J[1],se.offset=J[0].text.length):p?(se.path=p[1],se.offset=0):e=null}}break}case"remove_text":{var{path:te,offset:G,text:ve}=t;if(ve.length===0)break;var ie=x.leaf(r,te),Z=ie.text.slice(0,G),fe=ie.text.slice(G+ve.length);if(ie.text=Z+fe,e)for(var[De,Ce]of E.points(e))e[Ce]=re.transform(De,t);break}case"set_node":{var{path:ce,properties:Ae,newProperties:be}=t;if(ce.length===0)throw new Error("Cannot set properties on the root node!");var ke=x.get(r,ce);for(var de in be){if(de==="children"||de==="text")throw new Error('Cannot set the "'.concat(de,'" property of nodes!'));var Te=be[de];Te==null?delete ke[de]:ke[de]=Te}for(var Ne in Ae)be.hasOwnProperty(Ne)||delete ke[Ne];break}case"set_selection":{var{newProperties:le}=t;if(le==null)e=le;else{if(e==null){if(!E.isRange(le))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Be.stringify(le)," when there is no current selection."));e=wr({},le)}for(var he in le){var rr=le[he];if(rr==null){if(he==="anchor"||he==="focus")throw new Error('Cannot remove the "'.concat(he,'" selection property'));delete e[he]}else e[he]=rr}}break}case"split_node":{var{path:xe,position:$e,properties:tr}=t;if(xe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(xe,"] because the root node cannot be split."));var Le=x.get(r,xe),vt=x.parent(r,xe),br=xe[xe.length-1],vr;if(W.isText(Le)){var Bu=Le.text.slice(0,$e),Eu=Le.text.slice($e);Le.text=Bu,vr=wr(wr({},tr),{},{text:Eu})}else{var Au=Le.children.slice(0,$e),Fu=Le.children.slice($e);Le.children=Au,vr=wr(wr({},tr),{},{children:Fu})}if(vt.children.splice(br+1,0,vr),e)for(var[bu,wu]of E.points(e))e[wu]=re.transform(bu,t);break}}return e},Is={transform(r,e){r.children=pn(r.children);var t=r.selection&&pn(r.selection);try{t=Ms(r,t,e)}finally{r.children=mn(r.children),t?r.selection=lr(t)?mn(t):t:r.selection=null}}},ks={insertNodes(r,e,t){r.insertNodes(e,t)},liftNodes(r,e){r.liftNodes(e)},mergeNodes(r,e){r.mergeNodes(e)},moveNodes(r,e){r.moveNodes(e)},removeNodes(r,e){r.removeNodes(e)},setNodes(r,e,t){r.setNodes(e,t)},splitNodes(r,e){r.splitNodes(e)},unsetNodes(r,e,t){r.unsetNodes(e,t)},unwrapNodes(r,e){r.unwrapNodes(e)},wrapNodes(r,e,t){r.wrapNodes(e,t)}},$s={collapse(r,e){r.collapse(e)},deselect(r){r.deselect()},move(r,e){r.move(e)},select(r,e){r.select(e)},setPoint(r,e,t){r.setPoint(e,t)},setSelection(r,e){r.setSelection(e)}},Ma=(r,e)=>{for(var t in r){var n=r[t],a=e[t];if(Fe(n)&&Fe(a)){if(!Ma(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var s in e)if(r[s]===void 0&&e[s]!==void 0)return!1;return!0};function Ls(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,u;for(u=0;u<n.length;u++)a=n[u],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function Ke(r,e){if(r==null)return{};var t=Ls(r,e),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(a=0;a<u.length;a++)n=u[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var zs=["anchor","focus"];function Fn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ws(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Fn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var E={edges(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,{anchor:n,focus:a}=r;return E.isBackward(r)===t?[n,a]:[a,n]},end(r){var[,e]=E.edges(r);return e},equals(r,e){return re.equals(r.anchor,e.anchor)&&re.equals(r.focus,e.focus)},surrounds(r,e){var t=E.intersection(r,e);return t?E.equals(t,e):!1},includes(r,e){if(E.isRange(e)){if(E.includes(r,e.anchor)||E.includes(r,e.focus))return!0;var[t,n]=E.edges(r),[a,u]=E.edges(e);return re.isBefore(t,a)&&re.isAfter(n,u)}var[s,l]=E.edges(r),c=!1,f=!1;return re.isPoint(e)?(c=re.compare(e,s)>=0,f=re.compare(e,l)<=0):(c=D.compare(e,s.path)>=0,f=D.compare(e,l.path)<=0),c&&f},intersection(r,e){var t=Ke(r,zs),[n,a]=E.edges(r),[u,s]=E.edges(e),l=re.isBefore(n,u)?u:n,c=re.isBefore(a,s)?a:s;return re.isBefore(c,l)?null:Ws({anchor:l,focus:c},t)},isBackward(r){var{anchor:e,focus:t}=r;return re.isAfter(e,t)},isCollapsed(r){var{anchor:e,focus:t}=r;return re.equals(e,t)},isExpanded(r){return!E.isCollapsed(r)},isForward(r){return!E.isBackward(r)},isRange(r){return Fe(r)&&re.isPoint(r.anchor)&&re.isPoint(r.focus)},*points(r){yield[r.anchor,"anchor"],yield[r.focus,"focus"]},start(r){var[e]=E.edges(r);return e},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yt(r,n=>{if(n===null)return null;var{affinity:a="inward"}=t,u,s;if(a==="inward"){var l=E.isCollapsed(n);E.isForward(n)?(u="forward",s=l?u:"backward"):(u="backward",s=l?u:"forward")}else a==="outward"?E.isForward(n)?(u="backward",s="forward"):(u="forward",s="backward"):(u=a,s=a);var c=re.transform(n.anchor,e,{affinity:u}),f=re.transform(n.focus,e,{affinity:s});if(!c||!f)return null;n.anchor=c,n.focus=f})}},bn=r=>Fe(r)&&x.isNodeList(r.children)&&!o.isEditor(r),q={isAncestor(r){return Fe(r)&&x.isNodeList(r.children)},isElement:bn,isElementList(r){return Array.isArray(r)&&r.every(e=>q.isElement(e))},isElementProps(r){return r.children!==void 0},isElementType:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return bn(e)&&e[n]===t},matches(r,e){for(var t in e)if(t!=="children"&&r[t]!==e[t])return!1;return!0}},qs=["children"],Vs=["text"],wn=new WeakMap,x={ancestor(r,e){var t=x.get(r,e);if(W.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Be.stringify(t)));return t},ancestors(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of D.ancestors(e,t)){var a=x.ancestor(r,n),u=[a,n];yield u}}()},child(r,e){if(W.isText(r))throw new Error("Cannot get the child of a text node: ".concat(Be.stringify(r)));var t=r.children[e];if(t==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Be.stringify(r)));return t},children(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=t,a=x.ancestor(r,e),{children:u}=a,s=n?u.length-1:0;n?s>=0:s<u.length;){var l=x.child(a,s),c=e.concat(s);yield[l,c],s=n?s-1:s+1}}()},common(r,e,t){var n=D.common(e,t),a=x.get(r,n);return[a,n]},descendant(r,e){var t=x.get(r,e);if(o.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Be.stringify(t)));return t},descendants(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of x.nodes(r,e))n.length!==0&&(yield[t,n])}()},elements(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of x.nodes(r,e))q.isElement(t)&&(yield[t,n])}()},extractProps(r){if(q.isAncestor(r)){var e=Ke(r,qs);return e}else{var e=Ke(r,Vs);return e}},first(r,e){for(var t=e.slice(),n=x.get(r,t);n&&!(W.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(r,e){if(W.isText(r))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Be.stringify(r)));var t=Yt({children:r.children},n=>{var[a,u]=E.edges(e),s=x.nodes(n,{reverse:!0,pass:h=>{var[,m]=h;return!E.includes(e,m)}});for(var[,l]of s){if(!E.includes(e,l)){var c=x.parent(n,l),f=l[l.length-1];c.children.splice(f,1)}if(D.equals(l,u.path)){var d=x.leaf(n,l);d.text=d.text.slice(0,u.offset)}if(D.equals(l,a.path)){var g=x.leaf(n,l);g.text=g.text.slice(a.offset)}}o.isEditor(n)&&(n.selection=null)});return t.children},get(r,e){var t=x.getIf(r,e);if(t===void 0)throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Be.stringify(r)));return t},getIf(r,e){for(var t=r,n=0;n<e.length;n++){var a=e[n];if(W.isText(t)||!t.children[a])return;t=t.children[a]}return t},has(r,e){for(var t=r,n=0;n<e.length;n++){var a=e[n];if(W.isText(t)||!t.children[a])return!1;t=t.children[a]}return!0},isNode(r){return W.isText(r)||q.isElement(r)||o.isEditor(r)},isNodeList(r){if(!Array.isArray(r))return!1;var e=wn.get(r);if(e!==void 0)return e;var t=r.every(n=>x.isNode(n));return wn.set(r,t),t},last(r,e){for(var t=e.slice(),n=x.get(r,t);n&&!(W.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],t.push(a)}return[n,t]},leaf(r,e){var t=x.get(r,e);if(!W.isText(t))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Be.stringify(t)));return t},levels(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of D.levels(e,t)){var a=x.get(r,n);yield[a,n]}}()},matches(r,e){return q.isElement(r)&&q.isElementProps(e)&&q.matches(r,e)||W.isText(r)&&W.isTextProps(e)&&W.matches(r,e)},nodes(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:t,reverse:n=!1}=e,{from:a=[],to:u}=e,s=new Set,l=[],c=r;!(u&&(n?D.isBefore(l,u):D.isAfter(l,u)));){if(s.has(c)||(yield[c,l]),!s.has(c)&&!W.isText(c)&&c.children.length!==0&&(t==null||t([c,l])===!1)){s.add(c);var f=n?c.children.length-1:0;D.isAncestor(l,a)&&(f=a[l.length]),l=l.concat(f),c=x.get(r,l);continue}if(l.length===0)break;if(!n){var d=D.next(l);if(x.has(r,d)){l=d,c=x.get(r,l);continue}}if(n&&l[l.length-1]!==0){var g=D.previous(l);l=g,c=x.get(r,l);continue}l=D.parent(l),c=x.get(r,l),s.add(c)}}()},parent(r,e){var t=D.parent(e),n=x.get(r,t);if(W.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(r){return W.isText(r)?r.text:r.children.map(x.string).join("")},texts(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of x.nodes(r,e))W.isText(t)&&(yield[t,n])}()}};function yn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ge(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var yr={isNodeOperation(r){return yr.isOperation(r)&&r.type.endsWith("_node")},isOperation(r){if(!Fe(r))return!1;switch(r.type){case"insert_node":return D.isPath(r.path)&&x.isNode(r.node);case"insert_text":return typeof r.offset=="number"&&typeof r.text=="string"&&D.isPath(r.path);case"merge_node":return typeof r.position=="number"&&D.isPath(r.path)&&Fe(r.properties);case"move_node":return D.isPath(r.path)&&D.isPath(r.newPath);case"remove_node":return D.isPath(r.path)&&x.isNode(r.node);case"remove_text":return typeof r.offset=="number"&&typeof r.text=="string"&&D.isPath(r.path);case"set_node":return D.isPath(r.path)&&Fe(r.properties)&&Fe(r.newProperties);case"set_selection":return r.properties===null&&E.isRange(r.newProperties)||r.newProperties===null&&E.isRange(r.properties)||Fe(r.properties)&&Fe(r.newProperties);case"split_node":return D.isPath(r.path)&&typeof r.position=="number"&&Fe(r.properties);default:return!1}},isOperationList(r){return Array.isArray(r)&&r.every(e=>yr.isOperation(e))},isSelectionOperation(r){return yr.isOperation(r)&&r.type.endsWith("_selection")},isTextOperation(r){return yr.isOperation(r)&&r.type.endsWith("_text")},inverse(r){switch(r.type){case"insert_node":return ge(ge({},r),{},{type:"remove_node"});case"insert_text":return ge(ge({},r),{},{type:"remove_text"});case"merge_node":return ge(ge({},r),{},{type:"split_node",path:D.previous(r.path)});case"move_node":{var{newPath:e,path:t}=r;if(D.equals(e,t))return r;if(D.isSibling(t,e))return ge(ge({},r),{},{path:e,newPath:t});var n=D.transform(t,r),a=D.transform(D.next(t),r);return ge(ge({},r),{},{path:n,newPath:a})}case"remove_node":return ge(ge({},r),{},{type:"insert_node"});case"remove_text":return ge(ge({},r),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:s}=r;return ge(ge({},r),{},{properties:s,newProperties:u})}case"set_selection":{var{properties:l,newProperties:c}=r;return l==null?ge(ge({},r),{},{properties:c,newProperties:null}):c==null?ge(ge({},r),{},{properties:null,newProperties:l}):ge(ge({},r),{},{properties:c,newProperties:l})}case"split_node":return ge(ge({},r),{},{type:"merge_node",path:D.next(r.path)})}}},On=new WeakMap,Hs=r=>{var e=On.get(r);if(e!==void 0)return e;if(!Fe(r))return!1;var t=typeof r.addMark=="function"&&typeof r.apply=="function"&&typeof r.deleteFragment=="function"&&typeof r.insertBreak=="function"&&typeof r.insertSoftBreak=="function"&&typeof r.insertFragment=="function"&&typeof r.insertNode=="function"&&typeof r.insertText=="function"&&typeof r.isElementReadOnly=="function"&&typeof r.isInline=="function"&&typeof r.isSelectable=="function"&&typeof r.isVoid=="function"&&typeof r.normalizeNode=="function"&&typeof r.onChange=="function"&&typeof r.removeMark=="function"&&typeof r.getDirtyPaths=="function"&&(r.marks===null||Fe(r.marks))&&(r.selection===null||E.isRange(r.selection))&&x.isNodeList(r.children)&&yr.isOperationList(r.operations);return On.set(r,t),t},o={above(r,e){return r.above(e)},addMark(r,e,t){r.addMark(e,t)},after(r,e,t){return r.after(e,t)},before(r,e,t){return r.before(e,t)},deleteBackward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteBackward(t)},deleteForward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteForward(t)},deleteFragment(r,e){r.deleteFragment(e)},edges(r,e){return r.edges(e)},elementReadOnly(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.elementReadOnly(e)},end(r,e){return r.end(e)},first(r,e){return r.first(e)},fragment(r,e){return r.fragment(e)},hasBlocks(r,e){return r.hasBlocks(e)},hasInlines(r,e){return r.hasInlines(e)},hasPath(r,e){return r.hasPath(e)},hasTexts(r,e){return r.hasTexts(e)},insertBreak(r){r.insertBreak()},insertFragment(r,e,t){r.insertFragment(e,t)},insertNode(r,e){r.insertNode(e)},insertSoftBreak(r){r.insertSoftBreak()},insertText(r,e){r.insertText(e)},isBlock(r,e){return r.isBlock(e)},isEdge(r,e,t){return r.isEdge(e,t)},isEditor(r){return Hs(r)},isElementReadOnly(r,e){return r.isElementReadOnly(e)},isEmpty(r,e){return r.isEmpty(e)},isEnd(r,e,t){return r.isEnd(e,t)},isInline(r,e){return r.isInline(e)},isNormalizing(r){return r.isNormalizing()},isSelectable(r,e){return r.isSelectable(e)},isStart(r,e,t){return r.isStart(e,t)},isVoid(r,e){return r.isVoid(e)},last(r,e){return r.last(e)},leaf(r,e,t){return r.leaf(e,t)},levels(r,e){return r.levels(e)},marks(r){return r.getMarks()},next(r,e){return r.next(e)},node(r,e,t){return r.node(e,t)},nodes(r,e){return r.nodes(e)},normalize(r,e){r.normalize(e)},parent(r,e,t){return r.parent(e,t)},path(r,e,t){return r.path(e,t)},pathRef(r,e,t){return r.pathRef(e,t)},pathRefs(r){return r.pathRefs()},point(r,e,t){return r.point(e,t)},pointRef(r,e,t){return r.pointRef(e,t)},pointRefs(r){return r.pointRefs()},positions(r,e){return r.positions(e)},previous(r,e){return r.previous(e)},range(r,e,t){return r.range(e,t)},rangeRef(r,e,t){return r.rangeRef(e,t)},rangeRefs(r){return r.rangeRefs()},removeMark(r,e){r.removeMark(e)},setNormalizing(r,e){r.setNormalizing(e)},start(r,e){return r.start(e)},string(r,e,t){return r.string(e,t)},unhangRange(r,e,t){return r.unhangRange(e,t)},void(r,e){return r.void(e)},withoutNormalizing(r,e){r.withoutNormalizing(e)},shouldMergeNodesRemovePrevNode:(r,e,t)=>r.shouldMergeNodesRemovePrevNode(e,t)},Ks={isSpan(r){return Array.isArray(r)&&r.length===2&&r.every(D.isPath)}};function xn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Pn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var re={compare(r,e){var t=D.compare(r.path,e.path);return t===0?r.offset<e.offset?-1:r.offset>e.offset?1:0:t},isAfter(r,e){return re.compare(r,e)===1},isBefore(r,e){return re.compare(r,e)===-1},equals(r,e){return r.offset===e.offset&&D.equals(r.path,e.path)},isPoint(r){return Fe(r)&&typeof r.offset=="number"&&D.isPath(r.path)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yt(r,n=>{if(n===null)return null;var{affinity:a="forward"}=t,{path:u,offset:s}=n;switch(e.type){case"insert_node":case"move_node":{n.path=D.transform(u,e,t);break}case"insert_text":{D.equals(e.path,u)&&(e.offset<s||e.offset===s&&a==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{D.equals(e.path,u)&&(n.offset+=e.position),n.path=D.transform(u,e,t);break}case"remove_text":{D.equals(e.path,u)&&e.offset<=s&&(n.offset-=Math.min(s-e.offset,e.text.length));break}case"remove_node":{if(D.equals(e.path,u)||D.isAncestor(e.path,u))return null;n.path=D.transform(u,e,t);break}case"split_node":{if(D.equals(e.path,u)){if(e.position===s&&a==null)return null;(e.position<s||e.position===s&&a==="forward")&&(n.offset-=e.position,n.path=D.transform(u,e,Pn(Pn({},t),{},{affinity:"forward"})))}else n.path=D.transform(u,e,t);break}}})}},Sn=void 0,Be={setScrubber(r){Sn=r},stringify(r){return JSON.stringify(r,Sn)}},Us=["text"],Gs=["anchor","focus"];function jn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ve(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var W={equals(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function a(u){var s=Ke(u,Us);return s}return Ma(n?a(r):r,n?a(e):e)},isText(r){return Fe(r)&&typeof r.text=="string"},isTextList(r){return Array.isArray(r)&&r.every(e=>W.isText(e))},isTextProps(r){return r.text!==void 0},matches(r,e){for(var t in e)if(t!=="text"&&(!r.hasOwnProperty(t)||r[t]!==e[t]))return!1;return!0},decorations(r,e){var t=[Ve({},r)];for(var n of e){var a=Ke(n,Gs),[u,s]=E.edges(n),l=[],c=0,f=u.offset,d=s.offset;for(var g of t){var{length:h}=g.text,m=c;if(c+=h,f<=m&&c<=d){Object.assign(g,a),l.push(g);continue}if(f!==d&&(f===c||d===m)||f>c||d<m||d===m&&m!==0){l.push(g);continue}var C=g,v=void 0,i=void 0;if(d<c){var B=d-m;i=Ve(Ve({},C),{},{text:C.text.slice(B)}),C=Ve(Ve({},C),{},{text:C.text.slice(0,B)})}if(f>m){var A=f-m;v=Ve(Ve({},C),{},{text:C.text.slice(0,A)}),C=Ve(Ve({},C),{},{text:C.text.slice(A)})}Object.assign(C,a),v&&l.push(v),l.push(C),i&&l.push(i)}t=l}return t}},Xt=r=>r.selection?r.selection:r.children.length>0?o.end(r,[]):[0],Fr=(r,e)=>{var[t]=o.node(r,e);return n=>n===t},Jt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,a=t?_s(e):e,u=Y.None,s=Y.None,l=0,c=null,f=null;for(var d of a){var g=d.codePointAt(0);if(!g)break;var h=ci(d,g);if([u,s]=n?[s,h]:[h,u],gr(u,Y.ZWJ)&&gr(s,Y.ExtPict)&&(n?c=Rn(e.substring(0,l)):c=Rn(e.substring(0,e.length-l)),!c)||gr(u,Y.RI)&&gr(s,Y.RI)&&(f!==null?f=!f:n?f=!0:f=gi(e.substring(0,e.length-l)),!f)||u!==Y.None&&s!==Y.None&&vi(u,s))break;l+=d.length}return l||1},Ys=/\s/,Xs=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Js=/['\u2018\u2019]/,Zs=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;e.length>0;){var u=Jt(e,t),[s,l]=Zt(e,u,t);if(Qs(s,l,t))a=!0,n+=u;else if(!a)n+=u;else break;e=l}return n},Zt=(r,e,t)=>{if(t){var n=r.length-e;return[r.slice(n,r.length),r.slice(0,n)]}return[r.slice(0,e),r.slice(e)]},Qs=function r(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Ys.test(e))return!1;if(Js.test(e)){var a=Jt(t,n),[u,s]=Zt(t,a,n);if(r(u,s,n))return!0}return!Xs.test(e)},_s=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var a=e.charAt(t-n);if(ri(a.charCodeAt(0))){var u=e.charAt(t-n-1);if(ei(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},ei=r=>r>=55296&&r<=56319,ri=r=>r>=56320&&r<=57343,Y;(function(r){r[r.None=0]="None",r[r.Extend=1]="Extend",r[r.ZWJ=2]="ZWJ",r[r.RI=4]="RI",r[r.Prepend=8]="Prepend",r[r.SpacingMark=16]="SpacingMark",r[r.L=32]="L",r[r.V=64]="V",r[r.T=128]="T",r[r.LV=256]="LV",r[r.LVT=512]="LVT",r[r.ExtPict=1024]="ExtPict",r[r.Any=2048]="Any"})(Y||(Y={}));var ti=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,ni=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,ai=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ui=/^[\u1100-\u115F\uA960-\uA97C]$/,si=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,ii=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,oi=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,li=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,fi=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,ci=(r,e)=>{var t=Y.Any;return r.search(ti)!==-1&&(t|=Y.Extend),e===8205&&(t|=Y.ZWJ),e>=127462&&e<=127487&&(t|=Y.RI),r.search(ni)!==-1&&(t|=Y.Prepend),r.search(ai)!==-1&&(t|=Y.SpacingMark),r.search(ui)!==-1&&(t|=Y.L),r.search(si)!==-1&&(t|=Y.V),r.search(ii)!==-1&&(t|=Y.T),r.search(oi)!==-1&&(t|=Y.LV),r.search(li)!==-1&&(t|=Y.LVT),r.search(fi)!==-1&&(t|=Y.ExtPict),t};function gr(r,e){return(r&e)!==0}var di=[[Y.L,Y.L|Y.V|Y.LV|Y.LVT],[Y.LV|Y.V,Y.V|Y.T],[Y.LVT|Y.T,Y.T],[Y.Any,Y.Extend|Y.ZWJ],[Y.Any,Y.SpacingMark],[Y.Prepend,Y.Any],[Y.ZWJ,Y.ExtPict],[Y.RI,Y.RI]];function vi(r,e){return di.findIndex(t=>gr(r,t[0])&&gr(e,t[1]))===-1}var Di=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Rn=r=>r.search(Di)!==-1,hi=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,gi=r=>{var e=r.match(hi);if(e===null)return!1;var t=e[0].length/2;return t%2===1},pi={delete(r,e){r.delete(e)},insertFragment(r,e,t){r.insertFragment(e,t)},insertText(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(r,()=>{var{voids:n=!1}=t,{at:a=Xt(r)}=t;if(D.isPath(a)&&(a=o.range(r,a)),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var u=E.end(a);if(!n&&o.void(r,{at:u}))return;var s=E.start(a),l=o.pointRef(r,s),c=o.pointRef(r,u);w.delete(r,{at:a,voids:n});var f=l.unref(),d=c.unref();a=f||d,w.setSelection(r,{anchor:a,focus:a})}if(!(!n&&o.void(r,{at:a})||o.elementReadOnly(r,{at:a}))){var{path:g,offset:h}=a;e.length>0&&r.apply({type:"insert_text",path:g,offset:h,text:e})}})}};function Tn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function qr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Tn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var w=qr(qr(qr(qr({},Is),ks),$s),pi),Xr=new WeakMap,mi=r=>Xr.get(r)||!1,Ci=(r,e,t)=>{var n=Xr.get(r)||!1;Xr.set(r,!0);try{e(),t()}finally{Xr.set(r,n)}};function Ia(r,e,t){var n=nt.get(r)||[],a=at.get(r)||new Set,u,s,l=g=>{if(g){var h=g.join(",");s.has(h)||(s.add(h),u.push(g))}};if(t){u=[],s=new Set;for(var c of n){var f=t(c);l(f)}}else u=n,s=a;for(var d of e)l(d);nt.set(r,u),at.set(r,s)}var Bi=(r,e)=>{for(var t of o.pathRefs(r))Ss.transform(t,e);for(var n of o.pointRefs(r))js.transform(n,e);for(var a of o.rangeRefs(r))Rs.transform(a,e);if(!mi(r)){var u=D.operationCanTransformPath(e)?s=>D.transform(s,e):void 0;Ia(r,r.getDirtyPaths(e),u)}w.transform(r,e),r.operations.push(e),o.normalize(r,{operation:e}),e.type==="set_selection"&&(r.marks=null),Or.get(r)||(Or.set(r,!0),Promise.resolve().then(()=>{Or.set(r,!1),r.onChange({operation:e}),r.operations=[]}))},Ei=(r,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return D.levels(t)}case"insert_node":{var{node:n,path:a}=e,u=D.levels(a),s=W.isText(n)?[]:Array.from(x.nodes(n),z=>{var[,$]=z;return a.concat($)});return[...u,...s]}case"merge_node":{var{path:l}=e,c=D.ancestors(l),f=D.previous(l);return[...c,f]}case"move_node":{var{path:d,newPath:g}=e;if(D.equals(d,g))return[];var h=[],m=[];for(var C of D.ancestors(d)){var v=D.transform(C,e);h.push(v)}for(var i of D.ancestors(g)){var B=D.transform(i,e);m.push(B)}var A=m[m.length-1],F=g[g.length-1],S=A.concat(F);return[...h,...m,S]}case"remove_node":{var{path:R}=e,H=D.ancestors(R);return[...H]}case"split_node":{var{path:L}=e,U=D.levels(L),K=D.next(L);return[...U,K]}default:return[]}},Ai=r=>{var{selection:e}=r;return e?x.fragment(r,e):[]},Fi=(r,e)=>{var[t,n]=e;if(!W.isText(t)){if(q.isElement(t)&&t.children.length===0){var a={text:""};w.insertNodes(r,a,{at:n.concat(0),voids:!0});return}for(var u=o.isEditor(t)?!1:q.isElement(t)&&(r.isInline(t)||t.children.length===0||W.isText(t.children[0])||r.isInline(t.children[0])),s=0,l=0;l<t.children.length;l++,s++){var c=x.get(r,n);if(!W.isText(c)){var f=c.children[s],d=c.children[s-1],g=l===t.children.length-1,h=W.isText(f)||q.isElement(f)&&r.isInline(f);if(h!==u)w.removeNodes(r,{at:n.concat(s),voids:!0}),s--;else if(q.isElement(f)){if(r.isInline(f)){if(d==null||!W.isText(d)){var m={text:""};w.insertNodes(r,m,{at:n.concat(s),voids:!0}),s++}else if(g){var C={text:""};w.insertNodes(r,C,{at:n.concat(s+1),voids:!0}),s++}}}else{if(!W.isText(f)&&!("children"in f)){var v=f;v.children=[]}d!=null&&W.isText(d)&&(W.equals(f,d,{loose:!0})?(w.mergeNodes(r,{at:n.concat(s),voids:!0}),s--):d.text===""?(w.removeNodes(r,{at:n.concat(s-1),voids:!0}),s--):f.text===""&&(w.removeNodes(r,{at:n.concat(s),voids:!0}),s--))}}}}},bi=(r,e)=>{var{iteration:t,initialDirtyPathsLength:n}=e,a=n*42;if(t>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},wi=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:u=e.selection,match:s}=t;if(u){var l=o.path(e,u),c=a==="lowest";for(var[f,d]of o.levels(e,{at:l,voids:n,match:s,reverse:c}))if(!W.isText(f)){if(E.isRange(u)){if(D.isAncestor(d,u.anchor.path)&&D.isAncestor(d,u.focus.path))return[f,d]}else if(!D.equals(l,d))return[f,d]}}};function Nn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Mn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Nn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var yi=(r,e,t)=>{var{selection:n}=r;if(n){var a=(g,h)=>{if(!W.isText(g))return!1;var[m,C]=o.parent(r,h);return!r.isVoid(m)||r.markableVoid(m)},u=E.isExpanded(n),s=!1;if(!u){var[l,c]=o.node(r,n);if(l&&a(l,c)){var[f]=o.parent(r,c);s=f&&r.markableVoid(f)}}if(u||s)w.setNodes(r,{[e]:t},{match:a,split:!0,voids:!0});else{var d=Mn(Mn({},o.marks(r)||{}),{},{[e]:t});r.marks=d,Or.get(r)||r.onChange()}}};function In(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function kn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?In(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):In(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Oi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.point(e,t,{edge:"end"}),u=o.end(e,[]),s={anchor:a,focus:u},{distance:l=1}=n,c=0,f;for(var d of o.positions(e,kn(kn({},n),{},{at:s}))){if(c>l)break;c!==0&&(f=d),c++}return f};function $n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ln(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$n(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$n(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var xi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.start(e,[]),u=o.point(e,t,{edge:"start"}),s={anchor:a,focus:u},{distance:l=1}=n,c=0,f;for(var d of o.positions(e,Ln(Ln({},n),{},{at:s,reverse:!0}))){if(c>l)break;c!==0&&(f=d),c++}return f},Pi=(r,e)=>{var{selection:t}=r;t&&E.isCollapsed(t)&&w.delete(r,{unit:e,reverse:!0})},Si=(r,e)=>{var{selection:t}=r;t&&E.isCollapsed(t)&&w.delete(r,{unit:e})},ji=function(e){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&E.isExpanded(n)&&w.delete(e,{reverse:t==="backward"})},Ri=(r,e)=>[o.start(r,e),o.end(r,e)];function zn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Wn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ti=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.above(e,Wn(Wn({},t),{},{match:n=>q.isElement(n)&&o.isElementReadOnly(e,n)}))},Ni=(r,e)=>o.point(r,e,{edge:"end"}),Mi=(r,e)=>{var t=o.path(r,e,{edge:"start"});return o.node(r,t)},Ii=(r,e)=>{var t=o.range(r,e);return x.fragment(r,t)};function qn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Vn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ki=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.above(e,Vn(Vn({},t),{},{match:n=>q.isElement(n)&&o.isVoid(e,n)}))},$i=(r,e)=>e.children.some(t=>q.isElement(t)&&o.isBlock(r,t)),Li=(r,e)=>e.children.some(t=>W.isText(t)||o.isInline(r,t)),zi=(r,e)=>x.has(r,e),Wi=(r,e)=>e.children.every(t=>W.isText(t)),qi=r=>{w.splitNodes(r,{always:!0})},Vi=(r,e,t)=>{w.insertNodes(r,e,t)},Hi=r=>{w.splitNodes(r,{always:!0})};function Hn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ki(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Hn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ui=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:u}=e;if(a){if(u){var s=Ki({text:t},u);w.insertNodes(e,s,{at:n.at,voids:n.voids})}else w.insertText(e,t,n);e.marks=null}},Gi=(r,e)=>!r.isInline(e),Yi=(r,e,t)=>o.isStart(r,e,t)||o.isEnd(r,e,t),Xi=(r,e)=>{var{children:t}=e,[n]=t;return t.length===0||t.length===1&&W.isText(n)&&n.text===""&&!r.isVoid(e)},Ji=(r,e,t)=>{var n=o.end(r,t);return re.equals(e,n)},Zi=r=>{var e=Na.get(r);return e===void 0?!0:e},Qi=(r,e,t)=>{if(e.offset!==0)return!1;var n=o.start(r,t);return re.equals(e,n)},_i=(r,e)=>{var t=o.path(r,e,{edge:"end"});return o.node(r,t)},eo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.path(e,t,n),u=x.leaf(e,a);return[u,a]};function ro(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=r.selection,reverse:n=!1,voids:a=!1}=e,{match:u}=e;if(u==null&&(u=()=>!0),!!t){var s=[],l=o.path(r,t);for(var[c,f]of x.levels(r,l))if(u(c,f)&&(s.push([c,f]),!a&&q.isElement(c)&&o.isVoid(r,c)))break;n&&s.reverse(),yield*s}}()}var to=["text"],no=["text"],ao=function(e){var{marks:t,selection:n}=e;if(!n)return null;var{anchor:a,focus:u}=n;if(t)return t;if(E.isExpanded(n)){var s=E.isBackward(n);s&&([u,a]=[a,u]);var l=o.isEnd(e,a,a.path);if(l){var c=o.after(e,a);c&&(a=c)}var[f]=o.nodes(e,{match:W.isText,at:{anchor:a,focus:u}});if(f){var[d]=f,g=Ke(d,to);return g}else return{}}var{path:h}=a,[m]=o.leaf(e,h);if(a.offset===0){var C=o.previous(e,{at:h,match:W.isText}),v=o.above(e,{match:R=>q.isElement(R)&&o.isVoid(e,R)&&e.markableVoid(R)});if(!v){var i=o.above(e,{match:R=>q.isElement(R)&&o.isBlock(e,R)});if(C&&i){var[B,A]=C,[,F]=i;D.isAncestor(F,A)&&(m=B)}}}var S=Ke(m,no);return S},uo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=e.selection}=t;if(s){var l=o.after(e,s,{voids:a});if(l){var[,c]=o.last(e,[]),f=[l.path,c];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(D.isPath(s)){var[d]=o.parent(e,s);u=h=>d.children.includes(h)}else u=()=>!0;var[g]=o.nodes(e,{at:f,match:u,mode:n,voids:a});return g}}},so=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.path(e,t,n),u=x.get(e,a);return[u,a]};function io(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=r.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:s=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!t){var f,d;if(Ks.isSpan(t))f=t[0],d=t[1];else{var g=o.path(r,t,{edge:"start"}),h=o.path(r,t,{edge:"end"});f=u?h:g,d=u?g:h}var m=x.nodes(r,{reverse:u,from:f,to:d,pass:S=>{var[R]=S;return q.isElement(R)?!!(!s&&(o.isVoid(r,R)||o.isElementReadOnly(r,R))||l&&!o.isSelectable(r,R)):!1}}),C=[],v;for(var[i,B]of m)if(!(l&&q.isElement(i)&&!o.isSelectable(r,i))){var A=v&&D.compare(B,v[1])===0;if(!(n==="highest"&&A)){if(!c(i,B)){if(a&&!A&&W.isText(i))return;continue}if(n==="lowest"&&A){v=[i,B];continue}var F=n==="lowest"?v:[i,B];F&&(a?C.push(F):yield F),v=[i,B]}}n==="lowest"&&v&&(a?C.push(v):yield v),a&&(yield*C)}}()}var oo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=t,u=d=>nt.get(d)||[],s=d=>at.get(d)||new Set,l=d=>{var g=u(d).pop(),h=g.join(",");return s(d).delete(h),g};if(o.isNormalizing(e)){if(n){var c=Array.from(x.nodes(e),d=>{var[,g]=d;return g}),f=new Set(c.map(d=>d.join(",")));nt.set(e,c),at.set(e,f)}u(e).length!==0&&o.withoutNormalizing(e,()=>{for(var d of u(e))if(x.has(e,d)){var g=o.node(e,d),[h,m]=g;q.isElement(h)&&h.children.length===0&&e.normalizeNode(g,{operation:a})}for(var C=u(e),v=C.length,i=0;C.length!==0;){if(!e.shouldNormalize({dirtyPaths:C,iteration:i,initialDirtyPathsLength:v,operation:a}))return;var B=l(e);if(x.has(e,B)){var A=o.node(e,B);e.normalizeNode(A,{operation:a})}i++,C=u(e)}})}},lo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.path(e,t,n),u=D.parent(a),s=o.node(e,u);return s},fo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:l}=u,c=o.pathRefs(e);return c.delete(u),u.current=null,l}},s=o.pathRefs(e);return s.add(u),u},co=r=>{var e=Cn.get(r);return e||(e=new Set,Cn.set(r,e)),e},vo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:u}=n;if(D.isPath(t)){if(u==="start"){var[,s]=x.first(e,t);t=s}else if(u==="end"){var[,l]=x.last(e,t);t=l}}return E.isRange(t)&&(u==="start"?t=E.start(t):u==="end"?t=E.end(t):t=D.common(t.anchor.path,t.focus.path)),re.isPoint(t)&&(t=t.path),a!=null&&(t=t.slice(0,a)),t},Do=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:l}=u,c=o.pointRefs(e);return c.delete(u),u.current=null,l}},s=o.pointRefs(e);return s.add(u),u},ho=r=>{var e=Bn.get(r);return e||(e=new Set,Bn.set(r,e)),e},go=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(D.isPath(t)){var u;if(a==="end"){var[,s]=x.last(e,t);u=s}else{var[,l]=x.first(e,t);u=l}var c=x.get(e,u);if(!W.isText(c))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(t,"] because it has no ").concat(a," text node."));return{path:u,offset:a==="end"?c.text.length:0}}if(E.isRange(t)){var[f,d]=E.edges(t);return a==="start"?f:d}return t};function po(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=r.selection,unit:n="offset",reverse:a=!1,voids:u=!1,ignoreNonSelectable:s=!1}=e;if(!t)return;var l=o.range(r,t),[c,f]=E.edges(l),d=a?f:c,g=!1,h="",m=0,C=0,v=0;for(var[i,B]of o.nodes(r,{at:t,reverse:a,voids:u,ignoreNonSelectable:s})){if(q.isElement(i)){if(!u&&(r.isVoid(i)||r.isElementReadOnly(i))){yield o.start(r,B);continue}if(r.isInline(i))continue;if(o.hasInlines(r,i)){var A=D.isAncestor(B,f.path)?f:o.end(r,B),F=D.isAncestor(B,c.path)?c:o.start(r,B);h=o.string(r,{anchor:F,focus:A},{voids:u}),g=!0}}if(W.isText(i)){var S=D.equals(B,d.path);for(S?(C=a?d.offset:i.text.length-d.offset,v=d.offset):(C=i.text.length,v=a?C:0),(S||g||n==="offset")&&(yield{path:B,offset:v},g=!1);;){if(m===0){if(h==="")break;m=R(h,n,a),h=Zt(h,m,a)[1]}if(v=a?v-m:v+m,C=C-m,C<0){m=-C;break}m=0,yield{path:B,offset:v}}}}function R(H,L,U){return L==="character"?Jt(H,U):L==="word"?Zs(H,U):L==="line"||L==="block"?H.length:1}}()}var mo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=e.selection}=t;if(s){var l=o.before(e,s,{voids:a});if(l){var[,c]=o.first(e,[]),f=[l.path,c];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(D.isPath(s)){var[d]=o.parent(e,s);u=h=>d.children.includes(h)}else u=()=>!0;var[g]=o.nodes(e,{reverse:!0,at:f,match:u,mode:n,voids:a});return g}}},Co=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:l}=u,c=o.rangeRefs(e);return c.delete(u),u.current=null,l}},s=o.rangeRefs(e);return s.add(u),u},Bo=r=>{var e=En.get(r);return e||(e=new Set,En.set(r,e)),e},Eo=(r,e,t)=>{if(E.isRange(e)&&!t)return e;var n=o.start(r,e),a=o.end(r,t||e);return{anchor:n,focus:a}};function Kn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ao(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Kn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Fo=(r,e)=>{var{selection:t}=r;if(t){var n=(d,g)=>{if(!W.isText(d))return!1;var[h,m]=o.parent(r,g);return!r.isVoid(h)||r.markableVoid(h)},a=E.isExpanded(t),u=!1;if(!a){var[s,l]=o.node(r,t);if(s&&n(s,l)){var[c]=o.parent(r,l);u=c&&r.markableVoid(c)}}if(a||u)w.unsetNodes(r,e,{match:n,split:!0,voids:!0});else{var f=Ao({},o.marks(r)||{});delete f[e],r.marks=f,Or.get(r)||r.onChange()}}},bo=(r,e)=>{Na.set(r,e)},wo=(r,e)=>o.point(r,e,{edge:"start"}),yo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,u=o.range(e,t),[s,l]=E.edges(u),c="";for(var[f,d]of o.nodes(e,{at:u,match:W.isText,voids:a})){var g=f.text;D.equals(d,l.path)&&(g=g.slice(0,l.offset)),D.equals(d,s.path)&&(g=g.slice(s.offset)),c+=g}return c},Oo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[u,s]=E.edges(t);if(u.offset!==0||s.offset!==0||E.isCollapsed(t)||D.hasPrevious(s.path))return t;var l=o.above(e,{at:s,match:C=>q.isElement(C)&&o.isBlock(e,C),voids:a}),c=l?l[1]:[],f=o.start(e,u),d={anchor:f,focus:s},g=!0;for(var[h,m]of o.nodes(e,{at:d,match:W.isText,reverse:!0,voids:a})){if(g){g=!1;continue}if(h.text!==""||D.isBefore(m,c)){s={path:m,offset:h.text.length};break}}return{anchor:u,focus:s}},xo=(r,e)=>{var t=o.isNormalizing(r);o.setNormalizing(r,!1);try{e()}finally{o.setNormalizing(r,t)}o.normalize(r)},Po=(r,e,t)=>{var[n,a]=e;return q.isElement(n)&&o.isEmpty(r,n)||W.isText(n)&&n.text===""&&a[a.length-1]!==0},So=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(e,()=>{var n,a,{reverse:u=!1,unit:s="character",distance:l=1,voids:c=!1}=t,{at:f=e.selection,hanging:d=!1}=t;if(f){var g=!1;if(E.isRange(f)&&E.isCollapsed(f)&&(g=!0,f=f.anchor),re.isPoint(f)){var h=o.void(e,{at:f,mode:"highest"});if(!c&&h){var[,m]=h;f=m}else{var C={unit:s,distance:l},v=u?o.before(e,f,C)||o.start(e,[]):o.after(e,f,C)||o.end(e,[]);f={anchor:f,focus:v},d=!0}}if(D.isPath(f)){w.removeNodes(e,{at:f,voids:c});return}if(!E.isCollapsed(f)){if(!d){var[,i]=E.edges(f),B=o.end(e,[]);re.equals(i,B)||(f=o.unhangRange(e,f,{voids:c}))}var[A,F]=E.edges(f),S=o.above(e,{match:Z=>q.isElement(Z)&&o.isBlock(e,Z),at:A,voids:c}),R=o.above(e,{match:Z=>q.isElement(Z)&&o.isBlock(e,Z),at:F,voids:c}),H=S&&R&&!D.equals(S[1],R[1]),L=D.equals(A.path,F.path),U=c?null:(n=o.void(e,{at:A,mode:"highest"}))!==null&&n!==void 0?n:o.elementReadOnly(e,{at:A,mode:"highest"}),K=c?null:(a=o.void(e,{at:F,mode:"highest"}))!==null&&a!==void 0?a:o.elementReadOnly(e,{at:F,mode:"highest"});if(U){var z=o.before(e,A);z&&S&&D.isAncestor(S[1],z.path)&&(A=z)}if(K){var $=o.after(e,F);$&&R&&D.isAncestor(R[1],$.path)&&(F=$)}var y=[],I;for(var N of o.nodes(e,{at:f,voids:c})){var[M,ne]=N;I&&D.compare(ne,I)===0||(!c&&q.isElement(M)&&(o.isVoid(e,M)||o.isElementReadOnly(e,M))||!D.isCommon(ne,A.path)&&!D.isCommon(ne,F.path))&&(y.push(N),I=ne)}var V=Array.from(y,Z=>{var[,fe]=Z;return o.pathRef(e,fe)}),ue=o.pointRef(e,A),_=o.pointRef(e,F),ae="";if(!L&&!U){var oe=ue.current,[se]=o.leaf(e,oe),{path:ee}=oe,{offset:Ee}=A,J=se.text.slice(Ee);J.length>0&&(e.apply({type:"remove_text",path:ee,offset:Ee,text:J}),ae=J)}if(V.reverse().map(Z=>Z.unref()).filter(Z=>Z!==null).forEach(Z=>w.removeNodes(e,{at:Z,voids:c})),!K){var p=_.current,[k]=o.leaf(e,p),{path:P}=p,j=L?A.offset:0,te=k.text.slice(j,F.offset);te.length>0&&(e.apply({type:"remove_text",path:P,offset:j,text:te}),ae=te)}!L&&H&&_.current&&ue.current&&w.mergeNodes(e,{at:_.current,hanging:!0,voids:c}),g&&u&&s==="character"&&ae.length>1&&ae.match(/[\u0E00-\u0E7F]+/)&&w.insertText(e,ae.slice(0,ae.length-l));var G=ue.unref(),ve=_.unref(),ie=u?G||ve:ve||G;t.at==null&&ie&&w.select(e,ie)}}})},jo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(e,()=>{var{hanging:a=!1,voids:u=!1}=n,{at:s=Xt(e),batchDirty:l=!0}=n;if(t.length){if(E.isRange(s))if(a||(s=o.unhangRange(e,s,{voids:u})),E.isCollapsed(s))s=s.anchor;else{var[,c]=E.edges(s);if(!u&&o.void(e,{at:c}))return;var f=o.pointRef(e,c);w.delete(e,{at:s}),s=f.unref()}else D.isPath(s)&&(s=o.start(e,s));if(!(!u&&o.void(e,{at:s}))){var d=o.above(e,{at:s,match:J=>q.isElement(J)&&o.isInline(e,J),mode:"highest",voids:u});if(d){var[,g]=d;if(o.isEnd(e,s,g)){var h=o.after(e,g);s=h}else if(o.isStart(e,s,g)){var m=o.before(e,g);s=m}}var C=o.above(e,{match:J=>q.isElement(J)&&o.isBlock(e,J),at:s,voids:u}),[,v]=C,i=o.isStart(e,s,v),B=o.isEnd(e,s,v),A=i&&B,F=!i||i&&B,S=!B,[,R]=x.first({children:t},[]),[,H]=x.last({children:t},[]),L=[],U=J=>{var[p,k]=J,P=k.length===0;return P?!1:A?!0:!(F&&D.isAncestor(k,R)&&q.isElement(p)&&!e.isVoid(p)&&!e.isInline(p)||S&&D.isAncestor(k,H)&&q.isElement(p)&&!e.isVoid(p)&&!e.isInline(p))};for(var K of x.nodes({children:t},{pass:U}))U(K)&&L.push(K);var z=[],$=[],y=[],I=!0,N=!1;for(var[M]of L)q.isElement(M)&&!e.isInline(M)?(I=!1,N=!0,$.push(M)):I?z.push(M):y.push(M);var[ne]=o.nodes(e,{at:s,match:J=>W.isText(J)||o.isInline(e,J),mode:"highest",voids:u}),[,V]=ne,ue=o.isStart(e,s,V),_=o.isEnd(e,s,V),ae=o.pathRef(e,B&&!y.length?D.next(v):v),oe=o.pathRef(e,_?D.next(V):V);w.splitNodes(e,{at:s,match:J=>N?q.isElement(J)&&o.isBlock(e,J):W.isText(J)||o.isInline(e,J),mode:N?"lowest":"highest",always:N&&(!i||z.length>0)&&(!B||y.length>0),voids:u});var se=o.pathRef(e,!ue||ue&&_?D.next(V):V);if(w.insertNodes(e,z,{at:se.current,match:J=>W.isText(J)||o.isInline(e,J),mode:"highest",voids:u,batchDirty:l}),A&&!z.length&&$.length&&!y.length&&w.delete(e,{at:v,voids:u}),w.insertNodes(e,$,{at:ae.current,match:J=>q.isElement(J)&&o.isBlock(e,J),mode:"lowest",voids:u,batchDirty:l}),w.insertNodes(e,y,{at:oe.current,match:J=>W.isText(J)||o.isInline(e,J),mode:"highest",voids:u,batchDirty:l}),!n.at){var ee;if(y.length>0&&oe.current?ee=D.previous(oe.current):$.length>0&&ae.current?ee=D.previous(ae.current):se.current&&(ee=D.previous(se.current)),ee){var Ee=o.end(e,ee);w.select(e,Ee)}}se.unref(),ae.unref(),oe.unref()}}})},Ro=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:a}=e;if(a){if(n==="anchor")w.select(e,a.anchor);else if(n==="focus")w.select(e,a.focus);else if(n==="start"){var[u]=E.edges(a);w.select(e,u)}else if(n==="end"){var[,s]=E.edges(a);w.select(e,s)}}else return},To=r=>{var{selection:e}=r;e&&r.apply({type:"set_selection",properties:e,newProperties:null})},No=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:a=1,unit:u="character",reverse:s=!1}=t,{edge:l=null}=t;if(n){l==="start"&&(l=E.isBackward(n)?"focus":"anchor"),l==="end"&&(l=E.isBackward(n)?"anchor":"focus");var{anchor:c,focus:f}=n,d={distance:a,unit:u,ignoreNonSelectable:!0},g={};if(l==null||l==="anchor"){var h=s?o.before(e,c,d):o.after(e,c,d);h&&(g.anchor=h)}if(l==null||l==="focus"){var m=s?o.before(e,f,d):o.after(e,f,d);m&&(g.focus=m)}w.setSelection(e,g)}},Mo=(r,e)=>{var{selection:t}=r;if(e=o.range(r,e),t){w.setSelection(r,e);return}if(!E.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Be.stringify(e)));r.apply({type:"set_selection",properties:t,newProperties:e})};function Un(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Gn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Un(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Un(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Io=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=e,{edge:u="both"}=n;if(a){u==="start"&&(u=E.isBackward(a)?"focus":"anchor"),u==="end"&&(u=E.isBackward(a)?"anchor":"focus");var{anchor:s,focus:l}=a,c=u==="anchor"?s:l;w.setSelection(e,{[u==="anchor"?"anchor":"focus"]:Gn(Gn({},c),t)})}},ko=(r,e)=>{var{selection:t}=r,n={},a={};if(t){for(var u in e)(u==="anchor"&&e.anchor!=null&&!re.equals(e.anchor,t.anchor)||u==="focus"&&e.focus!=null&&!re.equals(e.focus,t.focus)||u!=="anchor"&&u!=="focus"&&e[u]!==t[u])&&(n[u]=t[u],a[u]=e[u]);Object.keys(n).length>0&&r.apply({type:"set_selection",properties:n,newProperties:a})}},$o=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(e,()=>{var{hanging:a=!1,voids:u=!1,mode:s="lowest",batchDirty:l=!0}=n,{at:c,match:f,select:d}=n;if(x.isNode(t)&&(t=[t]),t.length!==0){var[g]=t;if(c||(c=Xt(e),d!==!1&&(d=!0)),d==null&&(d=!1),E.isRange(c))if(a||(c=o.unhangRange(e,c,{voids:u})),E.isCollapsed(c))c=c.anchor;else{var[,h]=E.edges(c),m=o.pointRef(e,h);w.delete(e,{at:c}),c=m.unref()}if(re.isPoint(c)){f==null&&(W.isText(g)?f=z=>W.isText(z):e.isInline(g)?f=z=>W.isText(z)||o.isInline(e,z):f=z=>q.isElement(z)&&o.isBlock(e,z));var[C]=o.nodes(e,{at:c.path,match:f,mode:s,voids:u});if(C){var[,v]=C,i=o.pathRef(e,v),B=o.isEnd(e,c,v);w.splitNodes(e,{at:c,match:f,mode:s,voids:u});var A=i.unref();c=B?D.next(A):A}else return}var F=D.parent(c),S=c[c.length-1];if(!(!u&&o.void(e,{at:F}))){if(l){var R=[],H=D.levels(F);Ci(e,()=>{var z=function(){var I=F.concat(S);S++;var N={type:"insert_node",path:I,node:$};e.apply(N),c=D.next(c),R.push(N),W.isText?H.push(...Array.from(x.nodes($),M=>{var[,ne]=M;return I.concat(ne)})):H.push(I)};for(var $ of t)z()},()=>{Ia(e,H,z=>{var $=z;for(var y of R)if(D.operationCanTransformPath(y)&&($=D.transform($,y),!$))return null;return $})})}else for(var L of t){var U=F.concat(S);S++,e.apply({type:"insert_node",path:U,node:L}),c=D.next(c)}if(c=D.previous(c),d){var K=o.end(e,c);K&&w.select(e,K)}}}})},Lo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:a="lowest",voids:u=!1}=t,{match:s}=t;if(s==null&&(s=D.isPath(n)?Fr(e,n):S=>q.isElement(S)&&o.isBlock(e,S)),!!n){var l=o.nodes(e,{at:n,match:s,mode:a,voids:u}),c=Array.from(l,S=>{var[,R]=S;return o.pathRef(e,R)});for(var f of c){var d=f.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var g=o.node(e,D.parent(d)),[h,m]=g,C=d[d.length-1],{length:v}=h.children;if(v===1){var i=D.next(m);w.moveNodes(e,{at:d,to:i,voids:u}),w.removeNodes(e,{at:m,voids:u})}else if(C===0)w.moveNodes(e,{at:d,to:m,voids:u});else if(C===v-1){var B=D.next(m);w.moveNodes(e,{at:d,to:B,voids:u})}else{var A=D.next(d),F=D.next(m);w.splitNodes(e,{at:A,voids:u}),w.moveNodes(e,{at:d,to:F,voids:u})}}}})},zo=["text"],Wo=["children"],ka=(r,e)=>{if(q.isElement(e)){var t=e;return o.isVoid(r,e)?!0:t.children.length===1?ka(r,t.children[0]):!1}else return!o.isEditor(e)},qo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(e,()=>{var{match:n,at:a=e.selection}=t,{hanging:u=!1,voids:s=!1,mode:l="lowest"}=t;if(a){if(n==null)if(D.isPath(a)){var[c]=o.parent(e,a);n=z=>c.children.includes(z)}else n=z=>q.isElement(z)&&o.isBlock(e,z);if(!u&&E.isRange(a)&&(a=o.unhangRange(e,a,{voids:s})),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var[,f]=E.edges(a),d=o.pointRef(e,f);w.delete(e,{at:a}),a=d.unref(),t.at==null&&w.select(e,a)}var[g]=o.nodes(e,{at:a,match:n,voids:s,mode:l}),h=o.previous(e,{at:a,match:n,voids:s,mode:l});if(!(!g||!h)){var[m,C]=g,[v,i]=h;if(!(C.length===0||i.length===0)){var B=D.next(i),A=D.common(C,i),F=D.isSibling(C,i),S=Array.from(o.levels(e,{at:C}),z=>{var[$]=z;return $}).slice(A.length).slice(0,-1),R=o.above(e,{at:C,mode:"highest",match:z=>S.includes(z)&&ka(e,z)}),H=R&&o.pathRef(e,R[1]),L,U;if(W.isText(m)&&W.isText(v)){var K=Ke(m,zo);U=v.text.length,L=K}else if(q.isElement(m)&&q.isElement(v)){var K=Ke(m,Wo);U=v.children.length,L=K}else throw new Error("Cannot merge the node at path [".concat(C,"] with the previous sibling because it is not the same kind: ").concat(Be.stringify(m)," ").concat(Be.stringify(v)));F||w.moveNodes(e,{at:C,to:B,voids:s}),H&&w.removeNodes(e,{at:H.current,voids:s}),o.shouldMergeNodesRemovePrevNode(e,h,g)?w.removeNodes(e,{at:i,voids:s}):e.apply({type:"merge_node",path:B,position:U,properties:L}),H&&H.unref()}}}})},Vo=(r,e)=>{o.withoutNormalizing(r,()=>{var{to:t,at:n=r.selection,mode:a="lowest",voids:u=!1}=e,{match:s}=e;if(n){s==null&&(s=D.isPath(n)?Fr(r,n):m=>q.isElement(m)&&o.isBlock(r,m));var l=o.pathRef(r,t),c=o.nodes(r,{at:n,match:s,mode:a,voids:u}),f=Array.from(c,m=>{var[,C]=m;return o.pathRef(r,C)});for(var d of f){var g=d.unref(),h=l.current;g.length!==0&&r.apply({type:"move_node",path:g,newPath:h}),l.current&&D.isSibling(h,g)&&D.isAfter(h,g)&&(l.current=D.next(l.current))}l.unref()}})},Ho=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=t,{at:s=e.selection,match:l}=t;if(s){l==null&&(l=D.isPath(s)?Fr(e,s):m=>q.isElement(m)&&o.isBlock(e,m)),!n&&E.isRange(s)&&(s=o.unhangRange(e,s,{voids:a}));var c=o.nodes(e,{at:s,match:l,mode:u,voids:a}),f=Array.from(c,m=>{var[,C]=m;return o.pathRef(e,C)});for(var d of f){var g=d.unref();if(g){var[h]=o.node(e,g);e.apply({type:"remove_node",path:g,node:h})}}}})},Ko=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(e,()=>{var{match:a,at:u=e.selection,compare:s,merge:l}=n,{hanging:c=!1,mode:f="lowest",split:d=!1,voids:g=!1}=n;if(u){if(a==null&&(a=D.isPath(u)?Fr(e,u):U=>q.isElement(U)&&o.isBlock(e,U)),!c&&E.isRange(u)&&(u=o.unhangRange(e,u,{voids:g})),d&&E.isRange(u)){if(E.isCollapsed(u)&&o.leaf(e,u.anchor)[0].text.length>0)return;var h=o.rangeRef(e,u,{affinity:"inward"}),[m,C]=E.edges(u),v=f==="lowest"?"lowest":"highest",i=o.isEnd(e,C,C.path);w.splitNodes(e,{at:C,match:a,mode:v,voids:g,always:!i});var B=o.isStart(e,m,m.path);w.splitNodes(e,{at:m,match:a,mode:v,voids:g,always:!B}),u=h.unref(),n.at==null&&w.select(e,u)}s||(s=(U,K)=>U!==K);for(var[A,F]of o.nodes(e,{at:u,match:a,mode:f,voids:g})){var S={},R={};if(F.length!==0){var H=!1;for(var L in t)L==="children"||L==="text"||s(t[L],A[L])&&(H=!0,A.hasOwnProperty(L)&&(S[L]=A[L]),l?t[L]!=null&&(R[L]=l(A[L],t[L])):t[L]!=null&&(R[L]=t[L]));H&&e.apply({type:"set_node",path:F,properties:S,newProperties:R})}}}})},Uo=(r,e)=>{if(E.isCollapsed(e))return e.anchor;var[,t]=E.edges(e),n=o.pointRef(r,t);return w.delete(r,{at:e}),n.unref()},Go=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=e.selection,height:l=0,always:c=!1}=t;if(u==null&&(u=_=>q.isElement(_)&&o.isBlock(e,_)),E.isRange(s)&&(s=Uo(e,s)),D.isPath(s)){var f=s,d=o.point(e,f),[g]=o.parent(e,f);u=_=>_===g,l=d.path.length-f.length+1,s=d,c=!0}if(s){var h=o.pointRef(e,s,{affinity:"backward"}),m;try{var[C]=o.nodes(e,{at:s,match:u,mode:n,voids:a});if(!C)return;var v=o.void(e,{at:s,mode:"highest"}),i=0;if(!a&&v){var[B,A]=v;if(q.isElement(B)&&e.isInline(B)){var F=o.after(e,A);if(!F){var S={text:""},R=D.next(A);w.insertNodes(e,S,{at:R,voids:a}),F=o.point(e,R)}s=F,c=!0}var H=s.path.length-A.length;l=H+1,c=!0}m=o.pointRef(e,s);var L=s.path.length-l,[,U]=C,K=s.path.slice(0,L),z=l===0?s.offset:s.path[L]+i;for(var[$,y]of o.levels(e,{at:K,reverse:!0,voids:a})){var I=!1;if(y.length<U.length||y.length===0||!a&&q.isElement($)&&o.isVoid(e,$))break;var N=h.current,M=o.isEnd(e,N,y);if(c||!h||!o.isEdge(e,N,y)){I=!0;var ne=x.extractProps($);e.apply({type:"split_node",path:y,position:z,properties:ne})}z=y[y.length-1]+(I||M?1:0)}if(t.at==null){var V=m.current||o.end(e,[]);w.select(e,V)}}finally{var ue;h.unref(),(ue=m)===null||ue===void 0||ue.unref()}}})},Yo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var a={};for(var u of t)a[u]=null;w.setNodes(e,a,n)},Xo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(e,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=t,{at:s=e.selection,match:l}=t;if(s){l==null&&(l=D.isPath(s)?Fr(e,s):m=>q.isElement(m)&&o.isBlock(e,m)),D.isPath(s)&&(s=o.range(e,s));var c=E.isRange(s)?o.rangeRef(e,s):null,f=o.nodes(e,{at:s,match:l,mode:n,voids:u}),d=Array.from(f,m=>{var[,C]=m;return o.pathRef(e,C)}).reverse(),g=function(){var C=h.unref(),[v]=o.node(e,C),i=o.range(e,C);a&&c&&(i=E.intersection(c.current,i)),w.liftNodes(e,{at:i,match:B=>q.isAncestor(v)&&v.children.includes(B),voids:u})};for(var h of d)g();c&&c.unref()}})};function Yn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Xn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yn(Object(t),!0).forEach(function(n){Oe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Jo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(e,()=>{var{mode:a="lowest",split:u=!1,voids:s=!1}=n,{match:l,at:c=e.selection}=n;if(c){if(l==null&&(D.isPath(c)?l=Fr(e,c):e.isInline(t)?l=i=>q.isElement(i)&&o.isInline(e,i)||W.isText(i):l=i=>q.isElement(i)&&o.isBlock(e,i)),u&&E.isRange(c)){var[f,d]=E.edges(c),g=o.rangeRef(e,c,{affinity:"inward"});w.splitNodes(e,{at:d,match:l,voids:s}),w.splitNodes(e,{at:f,match:l,voids:s}),c=g.unref(),n.at==null&&w.select(e,c)}var h=Array.from(o.nodes(e,{at:c,match:e.isInline(t)?i=>q.isElement(i)&&o.isBlock(e,i):i=>o.isEditor(i),mode:"lowest",voids:s})),m=function(){var B=E.isRange(c)?E.intersection(c,o.range(e,v)):c;if(!B)return 0;var A=Array.from(o.nodes(e,{at:B,match:l,mode:a,voids:s}));if(A.length>0){var[F]=A,S=A[A.length-1],[,R]=F,[,H]=S;if(R.length===0&&H.length===0)return 0;var L=D.equals(R,H)?D.parent(R):D.common(R,H),U=o.range(e,R,H),K=o.node(e,L),[z]=K,$=L.length+1,y=D.next(H.slice(0,$)),I=Xn(Xn({},t),{},{children:[]});w.insertNodes(e,I,{at:y,voids:s}),w.moveNodes(e,{at:U,match:N=>q.isAncestor(z)&&z.children.includes(N),to:y.concat(0),voids:s})}},C;for(var[,v]of h)C=m()}})},Zo=()=>{var r={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Bi(r,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yi(r,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Pi(r,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Si(r,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ji(r,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ai(r,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return qi(r,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Hi(r,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return jo(r,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vi(r,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ui(r,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fi(r,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fo(r,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ei(r,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bi(r,...n)},above:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wi(r,...n)},after:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Oi(r,...n)},before:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xi(r,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ro(r,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return So(r,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return To(r,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ri(r,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ti(r,...n)},end:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ni(r,...n)},first:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Mi(r,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ii(r,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ao(r,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return $i(r,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Li(r,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return zi(r,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Wi(r,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return $o(r,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Gi(r,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yi(r,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xi(r,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ji(r,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Zi(r,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qi(r,...n)},last:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _i(r,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return eo(r,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ro(r,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Lo(r,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return qo(r,...n)},move:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return No(r,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vo(r,...n)},next:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return uo(r,...n)},node:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return so(r,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return io(r,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return oo(r,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return lo(r,...n)},path:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vo(r,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return fo(r,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return co(r,...n)},point:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return go(r,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Do(r,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ho(r,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return po(r,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return mo(r,...n)},range:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Eo(r,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Co(r,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Bo(r,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ho(r,...n)},select:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Mo(r,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ko(r,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bo(r,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Io(r,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ko(r,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Go(r,...n)},start:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wo(r,...n)},string:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yo(r,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Oo(r,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yo(r,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xo(r,...n)},void:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ki(r,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xo(r,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Jo(r,...n)},shouldMergeNodesRemovePrevNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Po(r,...n)}};return r},Qo=rl,$a="֑-߿יִ-﷽ﹰ-ﻼ",La="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",_o=new RegExp("^[^"+La+"]*["+$a+"]"),el=new RegExp("^[^"+$a+"]*["+La+"]");function rl(r){return r=String(r||""),_o.test(r)?"rtl":el.test(r)?"ltr":"neutral"}const za=yu(Qo),Jn=r=>typeof r=="object"&&r!=null&&r.nodeType===1,Zn=(r,e)=>(!e||r!=="hidden")&&r!=="visible"&&r!=="clip",pt=(r,e)=>{if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){const t=getComputedStyle(r,null);return Zn(t.overflowY,e)||Zn(t.overflowX,e)||(n=>{const a=(u=>{if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(r)}return!1},Vr=(r,e,t,n,a,u,s,l)=>u<r&&s>e||u>r&&s<e?0:u<=r&&l<=t||s>=e&&l>=t?u-r-n:s>e&&l<t||u<r&&l>t?s-e+a:0,tl=r=>{const e=r.parentElement;return e??(r.getRootNode().host||null)},Qn=(r,e)=>{var t,n,a,u;if(typeof document>"u")return[];const{scrollMode:s,block:l,inline:c,boundary:f,skipOverflowHiddenElements:d}=e,g=typeof f=="function"?f:ne=>ne!==f;if(!Jn(r))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,m=[];let C=r;for(;Jn(C)&&g(C);){if(C=tl(C),C===h){m.push(C);break}C!=null&&C===document.body&&pt(C)&&!pt(document.documentElement)||C!=null&&pt(C,d)&&m.push(C)}const v=(n=(t=window.visualViewport)==null?void 0:t.width)!=null?n:innerWidth,i=(u=(a=window.visualViewport)==null?void 0:a.height)!=null?u:innerHeight,{scrollX:B,scrollY:A}=window,{height:F,width:S,top:R,right:H,bottom:L,left:U}=r.getBoundingClientRect(),{top:K,right:z,bottom:$,left:y}=(ne=>{const V=window.getComputedStyle(ne);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(r);let I=l==="start"||l==="nearest"?R-K:l==="end"?L+$:R+F/2-K+$,N=c==="center"?U+S/2-y+z:c==="end"?H+z:U-y;const M=[];for(let ne=0;ne<m.length;ne++){const V=m[ne],{height:ue,width:_,top:ae,right:oe,bottom:se,left:ee}=V.getBoundingClientRect();if(s==="if-needed"&&R>=0&&U>=0&&L<=i&&H<=v&&R>=ae&&L<=se&&U>=ee&&H<=oe)return M;const Ee=getComputedStyle(V),J=parseInt(Ee.borderLeftWidth,10),p=parseInt(Ee.borderTopWidth,10),k=parseInt(Ee.borderRightWidth,10),P=parseInt(Ee.borderBottomWidth,10);let j=0,te=0;const G="offsetWidth"in V?V.offsetWidth-V.clientWidth-J-k:0,ve="offsetHeight"in V?V.offsetHeight-V.clientHeight-p-P:0,ie="offsetWidth"in V?V.offsetWidth===0?0:_/V.offsetWidth:0,Z="offsetHeight"in V?V.offsetHeight===0?0:ue/V.offsetHeight:0;if(h===V)j=l==="start"?I:l==="end"?I-i:l==="nearest"?Vr(A,A+i,i,p,P,A+I,A+I+F,F):I-i/2,te=c==="start"?N:c==="center"?N-v/2:c==="end"?N-v:Vr(B,B+v,v,J,k,B+N,B+N+S,S),j=Math.max(0,j+A),te=Math.max(0,te+B);else{j=l==="start"?I-ae-p:l==="end"?I-se+P+ve:l==="nearest"?Vr(ae,se,ue,p,P+ve,I,I+F,F):I-(ae+ue/2)+ve/2,te=c==="start"?N-ee-J:c==="center"?N-(ee+_/2)+G/2:c==="end"?N-oe+k+G:Vr(ee,oe,_,J,k+G,N,N+S,S);const{scrollLeft:fe,scrollTop:De}=V;j=Z===0?0:Math.max(0,Math.min(De+j/Z,V.scrollHeight-ue/Z+ve)),te=ie===0?0:Math.max(0,Math.min(fe+te/ie,V.scrollWidth-_/ie+G)),I+=De-j,N+=fe-te}M.push({el:V,top:j,left:te})}return M},nl=r=>r===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(r)?r:{block:"start",inline:"nearest"};function al(r,e){if(!r.isConnected||!(a=>{let u=a;for(;u&&u.parentNode;){if(u.parentNode===document)return!0;u=u.parentNode instanceof ShadowRoot?u.parentNode.host:u.parentNode}return!1})(r))return;const t=(a=>{const u=window.getComputedStyle(a);return{top:parseFloat(u.scrollMarginTop)||0,right:parseFloat(u.scrollMarginRight)||0,bottom:parseFloat(u.scrollMarginBottom)||0,left:parseFloat(u.scrollMarginLeft)||0}})(r);if((a=>typeof a=="object"&&typeof a.behavior=="function")(e))return e.behavior(Qn(r,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:a,top:u,left:s}of Qn(r,nl(e))){const l=u-t.top+t.bottom,c=s-t.left+t.right;a.scroll({top:l,left:c,behavior:n})}}var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});var ul=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),mt={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Wa={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:ul?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Qt={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Hr=1;Hr<20;Hr++)Qt["f"+Hr]=111+Hr;function ct(r,e,t){e&&!("byKey"in e)&&(t=e,e=null),Array.isArray(r)||(r=[r]);var n=r.map(function(s){return qa(s,e)}),a=function(l){return n.some(function(c){return Va(c,l)})},u=t==null?a:a(t);return u}function sl(r,e){return ct(r,e)}function il(r,e){return ct(r,{byKey:!0},e)}function qa(r,e){var t=e&&e.byKey,n={};r=r.replace("++","+add");var a=r.split("+"),u=a.length;for(var s in mt)n[mt[s]]=!1;var l=!0,c=!1,f=void 0;try{for(var d=a[Symbol.iterator](),g;!(l=(g=d.next()).done);l=!0){var h=g.value,m=h.endsWith("?")&&h.length>1;m&&(h=h.slice(0,-1));var C=_t(h),v=mt[C];if(h.length>1&&!v&&!Wa[h]&&!Qt[C])throw new TypeError('Unknown modifier: "'+h+'"');(u===1||!v)&&(t?n.key=C:n.which=Ha(h)),v&&(n[v]=m?null:!0)}}catch(i){c=!0,f=i}finally{try{!l&&d.return&&d.return()}finally{if(c)throw f}}return n}function Va(r,e){for(var t in r){var n=r[t],a=void 0;if(n!=null&&(t==="key"&&e.key!=null?a=e.key.toLowerCase():t==="which"?a=n===91&&e.which===93?91:e.which:a=e[t],!(a==null&&n===!1)&&a!==n))return!1}return!0}function Ha(r){r=_t(r);var e=Qt[r]||r.toUpperCase().charCodeAt(0);return e}function _t(r){return r=r.toLowerCase(),r=Wa[r]||r,r}Ue.default=ct;var Ct=Ue.isHotkey=ct;Ue.isCodeHotkey=sl;Ue.isKeyHotkey=il;Ue.parseHotkey=qa;Ue.compareHotkey=Va;Ue.toKeyCode=Ha;Ue.toKeyName=_t;var Ka=globalThis.Node,ol=globalThis.Text,en=r=>r&&r.ownerDocument&&r.ownerDocument.defaultView||null,ll=r=>_e(r)&&r.nodeType===8,Re=r=>_e(r)&&r.nodeType===1,_e=r=>{var e=en(r);return!!e&&r instanceof e.Node},Rt=r=>{var e=r&&r.anchorNode&&en(r.anchorNode);return!!e&&r instanceof e.Selection},Ua=r=>_e(r)&&r.nodeType===3,fl=r=>r.clipboardData&&r.clipboardData.getData("text/plain")!==""&&r.clipboardData.types.length===1,cl=r=>{var[e,t]=r;if(Re(e)&&e.childNodes.length){var n=t===e.childNodes.length,a=n?t-1:t;for([e,a]=Ga(e,a,n?"backward":"forward"),n=a<t;Re(e)&&e.childNodes.length;){var u=n?e.childNodes.length-1:0;e=vl(e,u,n?"backward":"forward")}t=n&&e.textContent!=null?e.textContent.length:0}return[e,t]},dl=r=>{for(var e=r&&r.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},Ga=(r,e,t)=>{for(var{childNodes:n}=r,a=n[e],u=e,s=!1,l=!1;(ll(a)||Re(a)&&a.childNodes.length===0||Re(a)&&a.getAttribute("contenteditable")==="false")&&!(s&&l);){if(u>=n.length){s=!0,u=e-1,t="backward";continue}if(u<0){l=!0,u=e+1,t="forward";continue}a=n[u],e=u,u+=t==="forward"?1:-1}return[a,e]},vl=(r,e,t)=>{var[n]=Ga(r,e,t);return n},Ya=r=>{var e="";if(Ua(r)&&r.nodeValue)return r.nodeValue;if(Re(r)){for(var t of Array.from(r.childNodes))e+=Ya(t);var n=getComputedStyle(r).getPropertyValue("display");(n==="block"||n==="list"||r.tagName==="BR")&&(e+=`
`)}return e},Dl=/data-slate-fragment="(.+?)"/m,hl=r=>{var e=r.getData("text/html"),[,t]=e.match(Dl)||[];return t},xr=r=>r.getSelection!=null?r.getSelection():document.getSelection(),rn=(r,e,t)=>{var{target:n}=e;if(Re(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=Q.getWindow(r);if(a.contains(n))return Q.hasDOMNode(r,n,{editable:!0});var u=t.find(s=>{var{addedNodes:l,removedNodes:c}=s;for(var f of l)if(f===n||f.contains(n))return!0;for(var d of c)if(d===n||d.contains(n))return!0});return!u||u===e?!1:rn(r,u,t)},gl=()=>{for(var r=document.activeElement;(e=r)!==null&&e!==void 0&&e.shadowRoot&&(t=r.shadowRoot)!==null&&t!==void 0&&t.activeElement;){var e,t,n;r=(n=r)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return r},_n=(r,e)=>!!(r.compareDocumentPosition(e)&Ka.DOCUMENT_POSITION_PRECEDING),pl=(r,e)=>!!(r.compareDocumentPosition(e)&Ka.DOCUMENT_POSITION_FOLLOWING),Bt,Et,Xa=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ea=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),ye=typeof navigator<"u"&&/Android/.test(navigator.userAgent),pr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ar=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),ml=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Ja=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Cl=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Bl=ye&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),El=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Al=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Fl=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Jr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((Bt=navigator.userAgent.match(/Version\/(\d+)/))!==null&&Bt!==void 0&&Bt[1]&&parseInt((Et=navigator.userAgent.match(/Version\/(\d+)/))===null||Et===void 0?void 0:Et[1],10)<17);var Ye=(!Cl||!Bl)&&!ml&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function Nr(r){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(r)}function bl(r,e){if(Nr(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Nr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function wl(r){var e=bl(r,"string");return Nr(e)==="symbol"?e:String(e)}function Za(r,e,t){return e=wl(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var yl=0;class Ol{constructor(){Za(this,"id",void 0),this.id="".concat(yl++)}}var mr=new WeakMap,tn=new WeakMap,nn=new WeakMap,Qa=new WeakMap,Zr=new WeakMap,Tt=new WeakMap,Mr=new WeakMap,sr=new WeakMap,ut=new WeakMap,dt=new WeakMap,Nt=new WeakMap,Qe=new WeakMap,ur=new WeakMap,Pr=new WeakMap,Mt=new WeakMap,an=new WeakMap,Ie=new WeakMap,He=new WeakMap,Pe=new WeakMap,Xe=new WeakMap,Je=new WeakMap,_a=new WeakMap,Er=Symbol("placeholder"),eu=Symbol("mark-placeholder"),Q={androidPendingDiffs:r=>Pe.get(r),androidScheduleFlush:r=>{var e;(e=an.get(r))===null||e===void 0||e()},blur:r=>{var e=Q.toDOMNode(r,r),t=Q.findDocumentOrShadowRoot(r);Qe.set(r,!1),t.activeElement===e&&e.blur()},deselect:r=>{var{selection:e}=r,t=Q.findDocumentOrShadowRoot(r),n=xr(t);n&&n.rangeCount>0&&n.removeAllRanges(),e&&w.deselect(r)},findDocumentOrShadowRoot:r=>{var e=Q.toDOMNode(r,r),t=e.getRootNode();return t instanceof Document||t instanceof ShadowRoot?t:e.ownerDocument},findEventRange:(r,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:t,clientY:n,target:a}=e;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var u=Q.toSlateNode(r,e.target),s=Q.findPath(r,u);if(q.isElement(u)&&o.isVoid(r,u)){var l=a.getBoundingClientRect(),c=r.isInline(u)?t-l.left<l.left+l.width-t:n-l.top<l.top+l.height-n,f=o.point(r,s,{edge:c?"start":"end"}),d=c?o.before(r,f):o.after(r,f);if(d){var g=o.range(r,d);return g}}var h,{document:m}=Q.getWindow(r);if(m.caretRangeFromPoint)h=m.caretRangeFromPoint(t,n);else{var C=m.caretPositionFromPoint(t,n);C&&(h=m.createRange(),h.setStart(C.offsetNode,C.offset),h.setEnd(C.offsetNode,C.offset))}if(!h)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var v=Q.toSlateRange(r,h,{exactMatch:!1,suppressThrow:!1});return v},findKey:(r,e)=>{var t=ut.get(e);return t||(t=new Ol,ut.set(e,t)),t},findPath:(r,e)=>{for(var t=[],n=e;;){var a=nn.get(n);if(a==null){if(o.isEditor(n))return t;break}var u=tn.get(n);if(u==null)break;t.unshift(u),n=a}throw new Error("Unable to find the path for Slate node: ".concat(Be.stringify(e)))},focus:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Qe.get(e)){if(t.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{Q.focus(e,{retries:t.retries-1})},10);return}var n=Q.toDOMNode(e,e),a=Q.findDocumentOrShadowRoot(e);if(a.activeElement!==n){if(e.selection&&a instanceof Document){var u=xr(a),s=Q.toDOMRange(e,e.selection);u==null||u.removeAllRanges(),u==null||u.addRange(s)}e.selection||w.select(e,o.start(e,[])),Qe.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:r=>{var e=Qa.get(r);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=n,u=Q.toDOMNode(e,e),s;try{s=Re(t)?t:t.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return s?s.closest("[data-slate-editor]")===u&&(!a||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===u||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(r,e)=>_e(e)&&Q.hasDOMNode(r,e,{editable:!0}),hasRange:(r,e)=>{var{anchor:t,focus:n}=e;return o.hasPath(r,t.path)&&o.hasPath(r,n.path)},hasSelectableTarget:(r,e)=>Q.hasEditableTarget(r,e)||Q.isTargetInsideNonReadonlyVoid(r,e),hasTarget:(r,e)=>_e(e)&&Q.hasDOMNode(r,e),insertData:(r,e)=>{r.insertData(e)},insertFragmentData:(r,e)=>r.insertFragmentData(e),insertTextData:(r,e)=>r.insertTextData(e),isComposing:r=>!!ur.get(r),isFocused:r=>!!Qe.get(r),isReadOnly:r=>!!Nt.get(r),isTargetInsideNonReadonlyVoid:(r,e)=>{if(Nt.get(r))return!1;var t=Q.hasTarget(r,e)&&Q.toSlateNode(r,e);return q.isElement(t)&&o.isVoid(r,t)},setFragmentData:(r,e,t)=>r.setFragmentData(e,t),toDOMNode:(r,e)=>{var t=dt.get(r),n=o.isEditor(e)?Zr.get(r):t==null?void 0:t.get(Q.findKey(r,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Be.stringify(e)));return n},toDOMPoint:(r,e)=>{var[t]=o.node(r,e.path),n=Q.toDOMNode(r,t),a;o.void(r,{at:e})&&(e={path:e.path,offset:0});for(var u="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(u)),l=0,c=0;c<s.length;c++){var f=s[c],d=f.childNodes[0];if(!(d==null||d.textContent==null)){var{length:g}=d.textContent,h=f.getAttribute("data-slate-length"),m=h==null?g:parseInt(h,10),C=l+m,v=s[c+1];if(e.offset===C&&v!==null&&v!==void 0&&v.hasAttribute("data-slate-mark-placeholder")){var i,B=v.childNodes[0];a=[B instanceof ol?B:v,(i=v.textContent)!==null&&i!==void 0&&i.startsWith("\uFEFF")?1:0];break}if(e.offset<=C){var A=Math.min(g,Math.max(0,e.offset-l));a=[d,A];break}l=C}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Be.stringify(e)));return a},toDOMRange:(r,e)=>{var{anchor:t,focus:n}=e,a=E.isBackward(e),u=Q.toDOMPoint(r,t),s=E.isCollapsed(e)?u:Q.toDOMPoint(r,n),l=Q.getWindow(r),c=l.document.createRange(),[f,d]=a?s:u,[g,h]=a?u:s,m=Re(f)?f:f.parentElement,C=!!m.getAttribute("data-slate-zero-width"),v=Re(g)?g:g.parentElement,i=!!v.getAttribute("data-slate-zero-width");return c.setStart(f,C?1:d),c.setEnd(g,i?1:h),c},toSlateNode:(r,e)=>{var t=Re(e)?e:e.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?Mr.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},toSlatePoint:(r,e,t)=>{var{exactMatch:n,suppressThrow:a,searchDirection:u="backward"}=t,[s,l]=n?e:cl(e),c=s.parentNode,f=null,d=0;if(c){var g,h,m=Q.toDOMNode(r,r),C=c.closest('[data-slate-void="true"]'),v=C&&m.contains(C)?C:null,i=c.closest('[contenteditable="false"]'),B=i&&m.contains(i)?i:null,A=c.closest("[data-slate-leaf]"),F=null;if(A){if(f=A.closest('[data-slate-node="text"]'),f){var S=Q.getWindow(r),R=S.document.createRange();R.setStart(f,0),R.setEnd(s,l);var H=R.cloneContents(),L=[...Array.prototype.slice.call(H.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(H.querySelectorAll("[contenteditable=false]"))];L.forEach(ee=>{if(ye&&!n&&ee.hasAttribute("data-slate-zero-width")&&ee.textContent.length>0&&ee.textContext!=="\uFEFF"){ee.textContent.startsWith("\uFEFF")&&(ee.textContent=ee.textContent.slice(1));return}ee.parentNode.removeChild(ee)}),d=H.textContent.length,F=f}}else if(v){for(var U=v.querySelectorAll("[data-slate-leaf]"),K=0;K<U.length;K++){var z=U[K];if(Q.hasDOMNode(r,z)){A=z;break}}A?(f=A.closest('[data-slate-node="text"]'),F=A,d=F.textContent.length,F.querySelectorAll("[data-slate-zero-width]").forEach(ee=>{d-=ee.textContent.length})):d=1}else if(B){var $=ee=>ee?ee.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],y=B.closest('[data-slate-node="element"]');if(u==="forward"){var I,N=[...$(y),...$(y==null?void 0:y.nextElementSibling)];A=(I=N.find(ee=>pl(B,ee)))!==null&&I!==void 0?I:null}else{var M,ne=[...$(y==null?void 0:y.previousElementSibling),...$(y)];A=(M=ne.findLast(ee=>_n(B,ee)))!==null&&M!==void 0?M:null}A&&(f=A.closest('[data-slate-node="text"]'),F=A,u==="forward"?d=0:(d=F.textContent.length,F.querySelectorAll("[data-slate-zero-width]").forEach(ee=>{d-=ee.textContent.length})))}F&&d===F.textContent.length&&ye&&F.getAttribute("data-slate-zero-width")==="z"&&(g=F.textContent)!==null&&g!==void 0&&g.startsWith("\uFEFF")&&(c.hasAttribute("data-slate-zero-width")||pr&&(h=F.textContent)!==null&&h!==void 0&&h.endsWith(`

`))&&d--}if(ye&&!f&&!n){var V=c.hasAttribute("data-slate-node")?c:c.closest("[data-slate-node]");if(V&&Q.hasDOMNode(r,V,{editable:!0})){var ue=Q.toSlateNode(r,V),{path:_,offset:ae}=o.start(r,Q.findPath(r,ue));return V.querySelector("[data-slate-leaf]")||(ae=l),{path:_,offset:ae}}}if(!f){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var oe=Q.toSlateNode(r,f),se=Q.findPath(r,oe);return{path:se,offset:d}},toSlateRange:(r,e,t)=>{var n,{exactMatch:a,suppressThrow:u}=t,s=Rt(e)?e.anchorNode:e.startContainer,l,c,f,d,g;if(s)if(Rt(e)){if(pr&&e.rangeCount>1){f=e.focusNode;var h=e.getRangeAt(0),m=e.getRangeAt(e.rangeCount-1);if(f instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let H=function(L){return L.childElementCount>0?H(L.children[0]):L};var C=h.startContainer,v=m.startContainer,i=H(C.children[h.startOffset]),B=H(v.children[m.startOffset]);d=0,B.childNodes.length>0?l=B.childNodes[0]:l=B,i.childNodes.length>0?f=i.childNodes[0]:f=i,B instanceof HTMLElement?c=B.innerHTML.length:c=0}else h.startContainer===f?(l=m.endContainer,c=m.endOffset,d=h.startOffset):(l=h.startContainer,c=h.endOffset,d=m.startOffset)}else l=e.anchorNode,c=e.anchorOffset,f=e.focusNode,d=e.focusOffset;Ja&&dl(l)||pr?g=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:g=e.isCollapsed}else l=e.startContainer,c=e.startOffset,f=e.endContainer,d=e.endOffset,g=e.collapsed;if(l==null||f==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));pr&&(n=f.textContent)!==null&&n!==void 0&&n.endsWith(`

`)&&d===f.textContent.length&&d--;var A=Q.toSlatePoint(r,[l,c],{exactMatch:a,suppressThrow:u});if(!A)return null;var F=_n(l,f)||l===f&&d<c,S=g?A:Q.toSlatePoint(r,[f,d],{exactMatch:a,suppressThrow:u,searchDirection:F?"forward":"backward"});if(!S)return null;var R={anchor:A,focus:S};return E.isExpanded(R)&&E.isForward(R)&&Re(f)&&o.void(r,{at:R.focus,mode:"highest"})&&(R=o.unhangRange(r,R,{voids:!0})),R}};function xl(r,e){var{path:t,diff:n}=e;if(!o.hasPath(r,t))return!1;var a=x.get(r,t);if(!W.isText(a))return!1;if(n.start!==a.text.length||n.text.length===0)return a.text.slice(n.start,n.start+n.text.length)===n.text;var u=D.next(t);if(!o.hasPath(r,u))return!1;var s=x.get(r,u);return W.isText(s)&&s.text.startsWith(n.text)}function ru(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t.reduce((a,u)=>a.slice(0,u.start)+u.text+a.slice(u.end),r)}function Pl(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++)if(r.charAt(n)!==e.charAt(n))return n;return t}function Sl(r,e,t){for(var n=Math.min(r.length,e.length,t),a=0;a<n;a++)if(r.charAt(r.length-a-1)!==e.charAt(e.length-a-1))return a;return n}function tu(r,e){var{start:t,end:n,text:a}=e,u=r.slice(t,n),s=Pl(u,a),l=Math.min(u.length-s,a.length-s),c=Sl(u,a,l),f={start:t+s,end:n-c,text:a.slice(s,a.length-c)};return f.start===f.end&&f.text.length===0?null:f}function jl(r,e,t){var n=Math.min(e.start,t.start),a=Math.max(0,Math.min(e.start+e.text.length,t.end)-t.start),u=ru(r,e,t),s=Math.max(t.start+t.text.length,e.start+e.text.length+(e.start+e.text.length>t.start?t.text.length:0)-a),l=u.slice(n,s),c=Math.max(e.end,t.end-e.text.length+(e.end-e.start));return tu(r,{start:n,end:c,text:l})}function Rl(r){var{path:e,diff:t}=r;return{anchor:{path:e,offset:t.start},focus:{path:e,offset:t.end}}}function It(r,e){var{path:t,offset:n}=e;if(!o.hasPath(r,t))return null;var a=x.get(r,t);if(!W.isText(a))return null;var u=o.above(r,{match:l=>q.isElement(l)&&o.isBlock(r,l),at:t});if(!u)return null;for(;n>a.text.length;){var s=o.next(r,{at:t,match:W.isText});if(!s||!D.isDescendant(s[1],u[1]))return null;n-=a.text.length,a=s[0],t=s[1]}return{path:t,offset:n}}function ra(r,e){var t=It(r,e.anchor);if(!t)return null;if(E.isCollapsed(e))return{anchor:t,focus:t};var n=It(r,e.focus);return n?{anchor:t,focus:n}:null}function kt(r,e,t){var n=Pe.get(r),a=n==null?void 0:n.find(d=>{var{path:g}=d;return D.equals(g,e.path)});if(!a||e.offset<=a.diff.start)return re.transform(e,t,{affinity:"backward"});var{diff:u}=a;if(e.offset<=u.start+u.text.length){var s={path:e.path,offset:u.start},l=re.transform(s,t,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-u.start}:null}var c={path:e.path,offset:e.offset-u.text.length+u.end-u.start},f=re.transform(c,t,{affinity:"backward"});return f?t.type==="split_node"&&D.equals(t.path,e.path)&&c.offset<t.position&&u.start<t.position?f:{path:f.path,offset:f.offset+u.text.length-u.end+u.start}:null}function ta(r,e,t){var n=kt(r,e.anchor,t);if(!n)return null;if(E.isCollapsed(e))return{anchor:n,focus:n};var a=kt(r,e.focus,t);return a?{anchor:n,focus:a}:null}function Tl(r,e){var{path:t,diff:n,id:a}=r;switch(e.type){case"insert_text":return!D.equals(e.path,t)||e.offset>=n.end?r:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:a,path:t};case"remove_text":return!D.equals(e.path,t)||e.offset>=n.end?r:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:a,path:t};case"split_node":return!D.equals(e.path,t)||e.position>=n.end?{diff:n,id:a,path:D.transform(t,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:a,path:t}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:a,path:D.transform(t,e,{affinity:"forward"})};case"merge_node":return D.equals(e.path,t)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:a,path:D.transform(t,e)}:{diff:n,id:a,path:D.transform(t,e)}}var u=D.transform(t,e);return u?{diff:n,path:u,id:a}:null}var na=(r,e)=>{var t=(e.top+e.bottom)/2;return r.top<=t&&r.bottom>=t},aa=(r,e,t)=>{var n=Q.toDOMRange(r,e).getBoundingClientRect(),a=Q.toDOMRange(r,t).getBoundingClientRect();return na(n,a)&&na(a,n)},Nl=(r,e)=>{var t=o.range(r,E.end(e)),n=Array.from(o.positions(r,{at:e})),a=0,u=n.length,s=Math.floor(u/2);if(aa(r,o.range(r,n[a]),t))return o.range(r,n[a],t);if(n.length<2)return o.range(r,n[n.length-1],t);for(;s!==n.length&&s!==a;)aa(r,o.range(r,n[s]),t)?u=s:a=s,s=Math.floor((a+u)/2);return o.range(r,n[u],t)};function ua(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function sa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ua(Object(t),!0).forEach(function(n){Za(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ua(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ml=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:a,onChange:u,deleteBackward:s,addMark:l,removeMark:c}=n;return dt.set(n,new WeakMap),n.addMark=(f,d)=>{var g,h;(g=an.get(n))===null||g===void 0||g(),!Ie.get(n)&&(h=Pe.get(n))!==null&&h!==void 0&&h.length&&Ie.set(n,null),He.delete(n),l(f,d)},n.removeMark=f=>{var d;!Ie.get(n)&&(d=Pe.get(n))!==null&&d!==void 0&&d.length&&Ie.set(n,null),He.delete(n),c(f)},n.deleteBackward=f=>{if(f!=="line")return s(f);if(n.selection&&E.isCollapsed(n.selection)){var d=o.above(n,{match:C=>q.isElement(C)&&o.isBlock(n,C),at:n.selection});if(d){var[,g]=d,h=o.range(n,g,n.selection.anchor),m=Nl(n,h);E.isCollapsed(m)||w.delete(n,{at:m})}}},n.apply=f=>{var d=[],g=[],h=Pe.get(n);if(h!=null&&h.length){var m=h.map(N=>Tl(N,f)).filter(Boolean);Pe.set(n,m)}var C=Je.get(n);C&&Je.set(n,ta(n,C,f));var v=Xe.get(n);if(v!=null&&v.at){var i=re.isPoint(v==null?void 0:v.at)?kt(n,v.at,f):ta(n,v.at,f);Xe.set(n,i?sa(sa({},v),{},{at:i}):null)}switch(f.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...Dr(n,f.path));break}case"set_selection":{var B;(B=Pr.get(n))===null||B===void 0||B.unref(),Pr.delete(n);break}case"insert_node":case"remove_node":{d.push(...Dr(n,D.parent(f.path)));break}case"merge_node":{var A=D.previous(f.path);d.push(...Dr(n,A));break}case"move_node":{var F=D.common(D.parent(f.path),D.parent(f.newPath));d.push(...Dr(n,F));var S;D.isBefore(f.path,f.newPath)?(d.push(...Dr(n,D.parent(f.path))),S=f.newPath):(d.push(...Dr(n,D.parent(f.newPath))),S=f.path);var R=x.get(e,D.parent(S)),H=Q.findKey(n,R),L=o.pathRef(n,D.parent(S));g.push([L,H]);break}}switch(a(f),f.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":mr.set(n,!0)}for(var[U,K]of d){var[z]=o.node(n,U);ut.set(z,K)}for(var[$,y]of g){if($.current){var[I]=o.node(n,$.current);ut.set(I,y)}$.unref()}},n.setFragmentData=f=>{var{selection:d}=n;if(d){var[g,h]=E.edges(d),m=o.void(n,{at:g.path}),C=o.void(n,{at:h.path});if(!(E.isCollapsed(d)&&!m)){var v=Q.toDOMRange(n,d),i=v.cloneContents(),B=i.childNodes[0];if(i.childNodes.forEach(z=>{z.textContent&&z.textContent.trim()!==""&&(B=z)}),C){var[A]=C,F=v.cloneRange(),S=Q.toDOMNode(n,A);F.setEndAfter(S),i=F.cloneContents()}if(m&&(B=i.querySelector("[data-slate-spacer]")),Array.from(i.querySelectorAll("[data-slate-zero-width]")).forEach(z=>{var $=z.getAttribute("data-slate-zero-width")==="n";z.textContent=$?`
`:""}),Ua(B)){var R=B.ownerDocument.createElement("span");R.style.whiteSpace="pre",R.appendChild(B),i.appendChild(R),B=R}var H=n.getFragment(),L=JSON.stringify(H),U=window.btoa(encodeURIComponent(L));B.setAttribute("data-slate-fragment",U),f.setData("application/".concat(t),U);var K=i.ownerDocument.createElement("div");return K.appendChild(i),K.setAttribute("hidden","true"),i.ownerDocument.body.appendChild(K),f.setData("text/html",K.innerHTML),f.setData("text/plain",Ya(K)),i.ownerDocument.body.removeChild(K),f}}},n.insertData=f=>{n.insertFragmentData(f)||n.insertTextData(f)},n.insertFragmentData=f=>{var d=f.getData("application/".concat(t))||hl(f);if(d){var g=decodeURIComponent(window.atob(d)),h=JSON.parse(g);return n.insertFragment(h),!0}return!1},n.insertTextData=f=>{var d=f.getData("text/plain");if(d){var g=d.split(/\r\n|\r|\n/),h=!1;for(var m of g)h&&w.splitNodes(n,{always:!0}),n.insertText(m),h=!0;return!0}return!1},n.onChange=f=>{var d=Mt.get(n);d&&d(f),u(f)},n},Dr=(r,e)=>{var t=[];for(var[n,a]of o.levels(r,{at:e})){var u=Q.findKey(r,n);t.push([a,u])}return t},Il=3,kl={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},$l={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Ll={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},pe=r=>{var e=kl[r],t=$l[r],n=Ll[r],a=e&&Ct(e),u=t&&Ct(t),s=n&&Ct(n);return l=>!!(a&&a(l)||ea&&u&&u(l)||!ea&&s&&s(l))},me={isBold:pe("bold"),isCompose:pe("compose"),isMoveBackward:pe("moveBackward"),isMoveForward:pe("moveForward"),isDeleteBackward:pe("deleteBackward"),isDeleteForward:pe("deleteForward"),isDeleteLineBackward:pe("deleteLineBackward"),isDeleteLineForward:pe("deleteLineForward"),isDeleteWordBackward:pe("deleteWordBackward"),isDeleteWordForward:pe("deleteWordForward"),isExtendBackward:pe("extendBackward"),isExtendForward:pe("extendForward"),isExtendLineBackward:pe("extendLineBackward"),isExtendLineForward:pe("extendLineForward"),isItalic:pe("italic"),isMoveLineBackward:pe("moveLineBackward"),isMoveLineForward:pe("moveLineForward"),isMoveWordBackward:pe("moveWordBackward"),isMoveWordForward:pe("moveWordForward"),isRedo:pe("redo"),isSoftBreak:pe("insertSoftBreak"),isSplitBlock:pe("splitBlock"),isTransposeCharacter:pe("transposeCharacter"),isUndo:pe("undo")};function zl(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,u;for(u=0;u<n.length;u++)a=n[u],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function ia(r,e){if(r==null)return{};var t=zl(r,e),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(a=0;a<u.length;a++)n=u[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var Wl=["anchor","focus"],ql=["anchor","focus"],Vl=(r,e)=>Object.keys(r).length===Object.keys(e).length&&Object.keys(r).every(t=>e.hasOwnProperty(t)&&r[t]===e[t]),nu=(r,e)=>{var t=ia(r,Wl),n=ia(e,ql);return r[Er]===e[Er]&&Vl(t,n)},Hl=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],a=e[t];if(!E.equals(n,a)||!nu(n,a))return!1}return!0},Kl=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],a=e[t];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!nu(n,a))return!1}return!0},ir=[],Ul=function(){return ir.some(function(r){return r.activeTargets.length>0})},Gl=function(){return ir.some(function(r){return r.skippedTargets.length>0})},oa="ResizeObserver loop completed with undelivered notifications.",Yl=function(){var r;typeof ErrorEvent=="function"?r=new ErrorEvent("error",{message:oa}):(r=document.createEvent("Event"),r.initEvent("error",!1,!1),r.message=oa),window.dispatchEvent(r)},Ir;(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ir||(Ir={}));var or=function(r){return Object.freeze(r)},Xl=function(){function r(e,t){this.inlineSize=e,this.blockSize=t,or(this)}return r}(),au=function(){function r(e,t,n,a){return this.x=e,this.y=t,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,or(this)}return r.prototype.toJSON=function(){var e=this,t=e.x,n=e.y,a=e.top,u=e.right,s=e.bottom,l=e.left,c=e.width,f=e.height;return{x:t,y:n,top:a,right:u,bottom:s,left:l,width:c,height:f}},r.fromRect=function(e){return new r(e.x,e.y,e.width,e.height)},r}(),un=function(r){return r instanceof SVGElement&&"getBBox"in r},uu=function(r){if(un(r)){var e=r.getBBox(),t=e.width,n=e.height;return!t&&!n}var a=r,u=a.offsetWidth,s=a.offsetHeight;return!(u||s||r.getClientRects().length)},la=function(r){var e;if(r instanceof Element)return!0;var t=(e=r==null?void 0:r.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&r instanceof t.Element)},Jl=function(r){switch(r.tagName){case"INPUT":if(r.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Sr=typeof window<"u"?window:{},Kr=new WeakMap,fa=/auto|scroll/,Zl=/^tb|vertical/,Ql=/msie|trident/i.test(Sr.navigator&&Sr.navigator.userAgent),ze=function(r){return parseFloat(r||"0")},Cr=function(r,e,t){return r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=!1),new Xl((t?e:r)||0,(t?r:e)||0)},ca=or({devicePixelContentBoxSize:Cr(),borderBoxSize:Cr(),contentBoxSize:Cr(),contentRect:new au(0,0,0,0)}),su=function(r,e){if(e===void 0&&(e=!1),Kr.has(r)&&!e)return Kr.get(r);if(uu(r))return Kr.set(r,ca),ca;var t=getComputedStyle(r),n=un(r)&&r.ownerSVGElement&&r.getBBox(),a=!Ql&&t.boxSizing==="border-box",u=Zl.test(t.writingMode||""),s=!n&&fa.test(t.overflowY||""),l=!n&&fa.test(t.overflowX||""),c=n?0:ze(t.paddingTop),f=n?0:ze(t.paddingRight),d=n?0:ze(t.paddingBottom),g=n?0:ze(t.paddingLeft),h=n?0:ze(t.borderTopWidth),m=n?0:ze(t.borderRightWidth),C=n?0:ze(t.borderBottomWidth),v=n?0:ze(t.borderLeftWidth),i=g+f,B=c+d,A=v+m,F=h+C,S=l?r.offsetHeight-F-r.clientHeight:0,R=s?r.offsetWidth-A-r.clientWidth:0,H=a?i+A:0,L=a?B+F:0,U=n?n.width:ze(t.width)-H-R,K=n?n.height:ze(t.height)-L-S,z=U+i+R+A,$=K+B+S+F,y=or({devicePixelContentBoxSize:Cr(Math.round(U*devicePixelRatio),Math.round(K*devicePixelRatio),u),borderBoxSize:Cr(z,$,u),contentBoxSize:Cr(U,K,u),contentRect:new au(g,c,U,K)});return Kr.set(r,y),y},iu=function(r,e,t){var n=su(r,t),a=n.borderBoxSize,u=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(e){case Ir.DEVICE_PIXEL_CONTENT_BOX:return s;case Ir.BORDER_BOX:return a;default:return u}},_l=function(){function r(e){var t=su(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=or([t.borderBoxSize]),this.contentBoxSize=or([t.contentBoxSize]),this.devicePixelContentBoxSize=or([t.devicePixelContentBoxSize])}return r}(),ou=function(r){if(uu(r))return 1/0;for(var e=0,t=r.parentNode;t;)e+=1,t=t.parentNode;return e},ef=function(){var r=1/0,e=[];ir.forEach(function(s){if(s.activeTargets.length!==0){var l=[];s.activeTargets.forEach(function(f){var d=new _l(f.target),g=ou(f.target);l.push(d),f.lastReportedSize=iu(f.target,f.observedBox),g<r&&(r=g)}),e.push(function(){s.callback.call(s.observer,l,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,n=e;t<n.length;t++){var a=n[t];a()}return r},da=function(r){ir.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(a){a.isActive()&&(ou(a.target)>r?t.activeTargets.push(a):t.skippedTargets.push(a))})})},rf=function(){var r=0;for(da(r);Ul();)r=ef(),da(r);return Gl()&&Yl(),r>0},At,lu=[],tf=function(){return lu.splice(0).forEach(function(r){return r()})},nf=function(r){if(!At){var e=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return tf()}).observe(t,n),At=function(){t.textContent="".concat(e?e--:e++)}}lu.push(r),At()},af=function(r){nf(function(){requestAnimationFrame(r)})},Qr=0,uf=function(){return!!Qr},sf=250,of={attributes:!0,characterData:!0,childList:!0,subtree:!0},va=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Da=function(r){return r===void 0&&(r=0),Date.now()+r},Ft=!1,lf=function(){function r(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return r.prototype.run=function(e){var t=this;if(e===void 0&&(e=sf),!Ft){Ft=!0;var n=Da(e);af(function(){var a=!1;try{a=rf()}finally{if(Ft=!1,e=n-Da(),!uf())return;a?t.run(1e3):e>0?t.run(e):t.start()}})}},r.prototype.schedule=function(){this.stop(),this.run()},r.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,of)};document.body?t():Sr.addEventListener("DOMContentLoaded",t)},r.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),va.forEach(function(t){return Sr.addEventListener(t,e.listener,!0)}))},r.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),va.forEach(function(t){return Sr.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},r}(),$t=new lf,ha=function(r){!Qr&&r>0&&$t.start(),Qr+=r,!Qr&&$t.stop()},ff=function(r){return!un(r)&&!Jl(r)&&getComputedStyle(r).display==="inline"},cf=function(){function r(e,t){this.target=e,this.observedBox=t||Ir.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return r.prototype.isActive=function(){var e=iu(this.target,this.observedBox,!0);return ff(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},r}(),df=function(){function r(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return r}(),Ur=new WeakMap,ga=function(r,e){for(var t=0;t<r.length;t+=1)if(r[t].target===e)return t;return-1},Gr=function(){function r(){}return r.connect=function(e,t){var n=new df(e,t);Ur.set(e,n)},r.observe=function(e,t,n){var a=Ur.get(e),u=a.observationTargets.length===0;ga(a.observationTargets,t)<0&&(u&&ir.push(a),a.observationTargets.push(new cf(t,n&&n.box)),ha(1),$t.schedule())},r.unobserve=function(e,t){var n=Ur.get(e),a=ga(n.observationTargets,t),u=n.observationTargets.length===1;a>=0&&(u&&ir.splice(ir.indexOf(n),1),n.observationTargets.splice(a,1),ha(-1))},r.disconnect=function(e){var t=this,n=Ur.get(e);n.observationTargets.slice().forEach(function(a){return t.unobserve(e,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},r}(),vf=function(){function r(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Gr.connect(this,e)}return r.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!la(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Gr.observe(this,e,t)},r.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!la(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Gr.unobserve(this,e)},r.prototype.disconnect=function(){Gr.disconnect(this)},r.toString=function(){return"function ResizeObserver () { [polyfill code] }"},r}();function Df(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,u;for(u=0;u<n.length;u++)a=n[u],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function st(r,e){if(r==null)return{};var t=Df(r,e),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(a=0;a<u.length;a++)n=u[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function kr(r){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(r)}function hf(r,e){if(kr(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(kr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gf(r){var e=hf(r,"string");return kr(e)==="symbol"?e:String(e)}function qe(r,e,t){return e=gf(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var sn=O.createContext(null),er=()=>{var r=O.useContext(sn);if(!r)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return r},T=Q;function pa(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Yr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pa(Object(t),!0).forEach(function(n){qe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pa(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var pf=25,mf=200,Cf=function(){},Bf=r=>(r==null?void 0:r.constructor.name)==="DataTransfer";function Ef(r){var{editor:e,scheduleOnDOMSelectionChange:t,onDOMSelectionChange:n}=r,a=!1,u=null,s=null,l=null,c=0,f=!1,d=()=>{var y=Je.get(e);if(Je.delete(e),y){var{selection:I}=e,N=ra(e,y);N&&(!I||!E.equals(N,I))&&w.select(e,N)}},g=()=>{var y=Xe.get(e);if(Xe.delete(e),!!y){if(y.at){var I=re.isPoint(y.at)?It(e,y.at):ra(e,y.at);if(!I)return;var N=o.range(e,I);(!e.selection||!E.equals(e.selection,N))&&w.select(e,I)}y.run()}},h=()=>{if(s&&(clearTimeout(s),s=null),l&&(clearTimeout(l),l=null),!S()&&!F()){d();return}a||(a=!0,setTimeout(()=>a=!1)),F()&&(a="action");var y=e.selection&&o.rangeRef(e,e.selection,{affinity:"forward"});He.set(e,e.marks),Cf("flush",Xe.get(e),Pe.get(e));for(var I=S(),N;N=(M=Pe.get(e))===null||M===void 0?void 0:M[0];){var M,ne,V=Ie.get(e);V!==void 0&&(Ie.delete(e),e.marks=V),V&&f===!1&&(f=null);var ue=Rl(N);(!e.selection||!E.equals(e.selection,ue))&&w.select(e,ue),N.diff.text?o.insertText(e,N.diff.text):o.deleteFragment(e),Pe.set(e,(ne=Pe.get(e))===null||ne===void 0?void 0:ne.filter(oe=>{var{id:se}=oe;return se!==N.id})),xl(e,N)||(I=!1,Xe.delete(e),He.delete(e),a="action",Je.delete(e),t.cancel(),n.cancel(),y==null||y.unref())}var _=y==null?void 0:y.unref();if(_&&!Je.get(e)&&(!e.selection||!E.equals(_,e.selection))&&w.select(e,_),F()){g();return}I&&t(),t.flush(),n.flush(),d();var ae=He.get(e);He.delete(e),ae!==void 0&&(e.marks=ae,e.onChange())},m=y=>{u&&clearTimeout(u),u=setTimeout(()=>{ur.set(e,!1),h()},pf)},C=y=>{ur.set(e,!0),u&&(clearTimeout(u),u=null)},v=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,N=Tt.get(e);if(N){if(S()||I){N.style.display="none";return}N.style.removeProperty("display")}},i=(y,I)=>{var N,M=(N=Pe.get(e))!==null&&N!==void 0?N:[];Pe.set(e,M);var ne=x.leaf(e,y),V=M.findIndex(ae=>D.equals(ae.path,y));if(V<0){var ue=tu(ne.text,I);ue&&M.push({path:y,diff:I,id:c++}),v();return}var _=jl(ne.text,M[V].diff,I);if(!_){M.splice(V,1),v();return}M[V]=Yr(Yr({},M[V]),{},{diff:_})},B=function(I){var{at:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f=!1,Je.delete(e),t.cancel(),n.cancel(),F()&&h(),Xe.set(e,{at:N,run:I}),l=setTimeout(h)},A=y=>{var I;if(s&&(clearTimeout(s),s=null),!mr.get(e)){var{inputType:N}=y,M=null,ne=y.dataTransfer||y.data||void 0;f!==!1&&N!=="insertText"&&N!=="insertCompositionText"&&(f=!1);var[V]=y.getTargetRanges();V&&(M=T.toSlateRange(e,V,{exactMatch:!1,suppressThrow:!0}));var ue=T.getWindow(e),_=ue.getSelection();if(!M&&_&&(V=_,M=T.toSlateRange(e,_,{exactMatch:!1,suppressThrow:!0})),M=(I=M)!==null&&I!==void 0?I:e.selection,!!M){var ae=!0;if(N.startsWith("delete")){if(E.isExpanded(M)){var[oe,se]=E.edges(M),ee=x.leaf(e,oe.path);if(ee.text.length===oe.offset&&se.offset===0){var Ee=o.next(e,{at:oe.path,match:W.isText});Ee&&D.equals(Ee[1],se.path)&&(M={anchor:se,focus:se})}}var J=N.endsWith("Backward")?"backward":"forward",[p,k]=E.edges(M),[P,j]=o.leaf(e,p.path),te={text:"",start:p.offset,end:k.offset},G=Pe.get(e),ve=G==null?void 0:G.find(xe=>D.equals(xe.path,j)),ie=ve?[ve.diff,te]:[te],Z=ru(P.text,...ie);if(Z.length===0&&(ae=!1),E.isExpanded(M)){if(ae&&D.equals(M.anchor.path,M.focus.path)){var fe={path:M.anchor.path,offset:p.offset},De=o.range(e,fe,fe);return L(De),i(M.anchor.path,{text:"",end:k.offset,start:p.offset})}return B(()=>o.deleteFragment(e,{direction:J}),{at:M})}}switch(N){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return B(()=>o.deleteFragment(e),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:Ce}=M;if(ae&&E.isCollapsed(M)){var ce=x.leaf(e,Ce.path);if(Ce.offset<ce.text.length)return i(Ce.path,{text:"",start:Ce.offset,end:Ce.offset+1})}return B(()=>o.deleteForward(e),{at:M})}case"deleteContentBackward":{var Ae,{anchor:be}=M,ke=Rt(V)?V.isCollapsed:!!((Ae=V)!==null&&Ae!==void 0&&Ae.collapsed);return ae&&ke&&E.isCollapsed(M)&&be.offset>0?i(be.path,{text:"",start:be.offset-1,end:be.offset}):B(()=>o.deleteBackward(e),{at:M})}case"deleteEntireSoftLine":return B(()=>{o.deleteBackward(e,{unit:"line"}),o.deleteForward(e,{unit:"line"})},{at:M});case"deleteHardLineBackward":return B(()=>o.deleteBackward(e,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return B(()=>o.deleteBackward(e,{unit:"line"}),{at:M});case"deleteHardLineForward":return B(()=>o.deleteForward(e,{unit:"block"}),{at:M});case"deleteSoftLineForward":return B(()=>o.deleteForward(e,{unit:"line"}),{at:M});case"deleteWordBackward":return B(()=>o.deleteBackward(e,{unit:"word"}),{at:M});case"deleteWordForward":return B(()=>o.deleteForward(e,{unit:"word"}),{at:M});case"insertLineBreak":return B(()=>o.insertSoftBreak(e),{at:M});case"insertParagraph":return B(()=>o.insertBreak(e),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Bf(ne))return B(()=>T.insertData(e,ne),{at:M});var de=ne??"";if(Ie.get(e)&&(de=de.replace("\uFEFF","")),N==="insertText"&&/.*\n.*\n$/.test(de)&&(de=de.slice(0,-1)),de.includes(`
`))return B(()=>{var xe=de.split(`
`);xe.forEach(($e,tr)=>{$e&&o.insertText(e,$e),tr!==xe.length-1&&o.insertSoftBreak(e)})},{at:M});if(D.equals(M.anchor.path,M.focus.path)){var[Te,Ne]=E.edges(M),le={start:Te.offset,end:Ne.offset,text:de};if(de&&f&&N==="insertCompositionText"){var he=f.start+f.text.search(/\S|$/),rr=le.start+le.text.search(/\S|$/);rr===he+1&&le.end===f.start+f.text.length?(le.start-=1,f=null,z()):f=!1}else N==="insertText"?f===null?f=le:f&&E.isCollapsed(M)&&f.end+f.text.length===Te.offset?f=Yr(Yr({},f),{},{text:f.text+de}):f=!1:f=!1;if(ae){i(Te.path,le);return}}return B(()=>o.insertText(e,de),{at:M})}}}}},F=()=>!!Xe.get(e),S=()=>{var y;return!!((y=Pe.get(e))!==null&&y!==void 0&&y.length)},R=()=>F()||S(),H=()=>a,L=y=>{Je.set(e,y),s&&(clearTimeout(s),s=null);var{selection:I}=e;if(y){var N=!I||!D.equals(I.anchor.path,y.anchor.path),M=!I||!D.equals(I.anchor.path.slice(0,-1),y.anchor.path.slice(0,-1));(N&&f||M)&&(f=!1),(N||S())&&(s=setTimeout(h,mf))}},U=()=>{(F()||!S())&&h()},K=y=>{S()||(v(!0),setTimeout(v))},z=()=>{F()||(l=setTimeout(h))},$=y=>{if(!(S()||F())&&y.some(N=>rn(e,N,y))){var I;(I=_a.get(e))===null||I===void 0||I()}};return{flush:h,scheduleFlush:z,hasPendingDiffs:S,hasPendingAction:F,hasPendingChanges:R,isFlushing:H,handleUserSelect:L,handleCompositionEnd:m,handleCompositionStart:C,handleDOMBeforeInput:A,handleKeyDown:K,handleDomMutations:$,handleInput:U}}function Af(){var r=O.useRef(!1);return O.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),r.current}var $r=Jr?O.useLayoutEffect:O.useEffect;function Ff(r,e,t){var[n]=O.useState(()=>new MutationObserver(e));$r(()=>{n.takeRecords()}),O.useEffect(()=>{if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(r.current,t),()=>n.disconnect()},[n,r,t])}var bf=["node"];function ma(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function wf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ma(Object(t),!0).forEach(function(n){qe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ma(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var yf={subtree:!0,childList:!0,characterData:!0},Of=ye?r=>{var{node:e}=r,t=st(r,bf);if(!ye)return null;var n=er(),a=Af(),[u]=O.useState(()=>Ef(wf({editor:n},t)));return Ff(e,u.handleDomMutations,yf),an.set(n,u.scheduleFlush),a&&u.flush(),u}:()=>null;function Ca(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function xf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ca(Object(t),!0).forEach(function(n){qe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ca(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Pf=r=>{var{isLast:e,leaf:t,parent:n,text:a}=r,u=er(),s=T.findPath(u,a),l=D.parent(s),c=!!t[eu];return u.isVoid(n)?X.createElement(bt,{length:x.string(n).length}):t.text===""&&n.children[n.children.length-1]===a&&!u.isInline(n)&&o.string(u,l)===""?X.createElement(bt,{isLineBreak:!0,isMarkPlaceholder:c}):t.text===""?X.createElement(bt,{isMarkPlaceholder:c}):e&&t.text.slice(-1)===`
`?X.createElement(Ba,{isTrailing:!0,text:t.text}):X.createElement(Ba,{text:t.text})},Ba=r=>{var{text:e,isTrailing:t=!1}=r,n=O.useRef(null),a=()=>"".concat(e??"").concat(t?`
`:""),[u]=O.useState(a);return $r(()=>{var s=a();n.current&&n.current.textContent!==s&&(n.current.textContent=s)}),X.createElement(Sf,{ref:n},u)},Sf=O.memo(O.forwardRef((r,e)=>X.createElement("span",{"data-slate-string":!0,ref:e},r.children))),bt=r=>{var{length:e=0,isLineBreak:t=!1,isMarkPlaceholder:n=!1}=r,a={"data-slate-zero-width":t?"n":"z","data-slate-length":e};return n&&(a["data-slate-mark-placeholder"]=!0),X.createElement("span",xf({},a),!(ye||Xa)||!t?"\uFEFF":null,t?X.createElement("br",null):null)};function Ea(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function fu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ea(Object(t),!0).forEach(function(n){qe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ea(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var jf=ye?300:0;function Rf(r,e){r.current&&(r.current.disconnect(),e&&(r.current=null))}function Aa(r){r.current&&(clearTimeout(r.current),r.current=null)}var Tf=r=>{var{leaf:e,isLast:t,text:n,parent:a,renderPlaceholder:u,renderLeaf:s=A=>X.createElement(Mf,fu({},A))}=r,l=er(),c=O.useRef(null),f=O.useRef(null),[d,g]=O.useState(!1),h=O.useRef(null),m=O.useCallback(A=>{if(Rf(c,A==null),A==null){var F;Tt.delete(l),(F=e.onPlaceholderResize)===null||F===void 0||F.call(e,null)}else{if(Tt.set(l,A),!c.current){var S=window.ResizeObserver||vf;c.current=new S(()=>{var R;(R=e.onPlaceholderResize)===null||R===void 0||R.call(e,A)})}c.current.observe(A),f.current=A}},[f,e,l]),C=X.createElement(Pf,{isLast:t,leaf:e,parent:a,text:n}),v=!!e[Er];if(O.useEffect(()=>(v?h.current||(h.current=setTimeout(()=>{g(!0),h.current=null},jf)):(Aa(h),g(!1)),()=>Aa(h)),[v,g]),v&&d){var i={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:ar?"inherit":void 0},contentEditable:!1,ref:m}};C=X.createElement(X.Fragment,null,u(i),C)}var B={"data-slate-leaf":!0};return s({attributes:B,children:C,leaf:e,text:n})},Nf=X.memo(Tf,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&W.equals(e.leaf,r.leaf)&&e.leaf[Er]===r.leaf[Er]),Mf=r=>{var{attributes:e,children:t}=r;return X.createElement("span",fu({},e),t)},If=r=>{for(var{decorations:e,isLast:t,parent:n,renderPlaceholder:a,renderLeaf:u,text:s}=r,l=er(),c=O.useRef(null),f=W.decorations(s,e),d=T.findKey(l,s),g=[],h=0;h<f.length;h++){var m=f[h];g.push(X.createElement(Nf,{isLast:t&&h===f.length-1,key:"".concat(d.id,"-").concat(h),renderPlaceholder:a,leaf:m,text:s,parent:n,renderLeaf:u}))}var C=O.useCallback(v=>{var i=dt.get(l);v?(i==null||i.set(d,v),sr.set(s,v),Mr.set(v,s)):(i==null||i.delete(d),sr.delete(s),c.current&&Mr.delete(c.current)),c.current=v},[c,l,d,s]);return X.createElement("span",{"data-slate-node":"text",ref:C},g)},cu=X.memo(If,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&Kl(e.decorations,r.decorations));function Fa(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Lt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fa(Object(t),!0).forEach(function(n){qe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Fa(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var kf=r=>{var{decorations:e,element:t,renderElement:n=A=>X.createElement(Lf,Lt({},A)),renderPlaceholder:a,renderLeaf:u,selection:s}=r,l=er(),c=qf(),f=l.isInline(t),d=T.findKey(l,t),g=O.useCallback(A=>{var F=dt.get(l);A?(F==null||F.set(d,A),sr.set(t,A),Mr.set(A,t)):(F==null||F.delete(d),sr.delete(t))},[l,d,t]),h=vu({decorations:e,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}),m={"data-slate-node":"element",ref:g};if(f&&(m["data-slate-inline"]=!0),!f&&o.hasInlines(l,t)){var C=x.string(t),v=za(C);v==="rtl"&&(m.dir=v)}if(o.isVoid(l,t)){m["data-slate-void"]=!0,!c&&f&&(m.contentEditable=!1);var i=f?"span":"div",[[B]]=x.texts(t);h=X.createElement(i,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},X.createElement(cu,{renderPlaceholder:a,decorations:[],isLast:!1,parent:t,text:B})),tn.set(B,0),nn.set(B,t)}return n({attributes:m,children:h,element:t})},$f=X.memo(kf,(r,e)=>r.element===e.element&&r.renderElement===e.renderElement&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&Hl(r.decorations,e.decorations)&&(r.selection===e.selection||!!r.selection&&!!e.selection&&E.equals(r.selection,e.selection))),Lf=r=>{var{attributes:e,children:t,element:n}=r,a=er(),u=a.isInline(n)?"span":"div";return X.createElement(u,Lt(Lt({},e),{},{style:{position:"relative"}}),t)},du=O.createContext(()=>[]),zf=()=>O.useContext(du),Wf=O.createContext(!1),vu=r=>{var{decorations:e,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}=r,l=zf(),c=er();mr.set(c,!1);for(var f=T.findPath(c,t),d=[],g=q.isElement(t)&&!c.isInline(t)&&o.hasInlines(c,t),h=0;h<t.children.length;h++){var m=f.concat(h),C=t.children[h],v=T.findKey(c,C),i=o.range(c,m),B=s&&E.intersection(i,s),A=l([C,m]);for(var F of e){var S=E.intersection(F,i);S&&A.push(S)}q.isElement(C)?d.push(X.createElement(Wf.Provider,{key:"provider-".concat(v.id),value:!!B},X.createElement($f,{decorations:A,element:C,key:v.id,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:B}))):d.push(X.createElement(cu,{decorations:A,key:v.id,isLast:g&&h===t.children.length-1,parent:t,renderPlaceholder:a,renderLeaf:u,text:C})),tn.set(C,h),nn.set(C,t)}return d},Du=O.createContext(!1),qf=()=>O.useContext(Du),hu=O.createContext(null),Lr=()=>{var r=O.useContext(hu);if(!r)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=r;return e};function Vf(){var r=er(),e=O.useRef(!1),t=O.useRef(0),n=O.useCallback(()=>{if(!e.current){e.current=!0;var a=T.getWindow(r);a.cancelAnimationFrame(t.current),t.current=a.requestAnimationFrame(()=>{e.current=!1})}},[r]);return O.useEffect(()=>()=>cancelAnimationFrame(t.current),[]),{receivedUserInput:e,onUserInput:n}}var Hf=(r,e)=>{var t=[],n=()=>{t=[]},a=s=>{if(e.current){var l=s.filter(c=>rn(r,c,s));t.push(...l)}};function u(){t.length>0&&(t.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(l=>{s.target.insertBefore(l,s.nextSibling)}),s.addedNodes.forEach(l=>{s.target.removeChild(l)}))}),n())}return{registerMutations:a,restoreDOM:u,clear:n}},Kf={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class gu extends O.Component{constructor(){super(...arguments),qe(this,"context",null),qe(this,"manager",null),qe(this,"mutationObserver",null)}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(t.current,Kf)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=Hf(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,a=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(a!=null&&a.length){var u;(u=this.manager)===null||u===void 0||u.registerMutations(a)}return(t=this.mutationObserver)===null||t===void 0||t.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}qe(gu,"contextType",sn);var Uf=ye?gu:r=>{var{children:e}=r;return X.createElement(X.Fragment,null,e)},Gf=O.createContext(!1),Yf=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],Xf=["text"];function ba(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function We(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ba(Object(t),!0).forEach(function(n){qe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ba(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Jf=r=>X.createElement(X.Fragment,null,vu(r)),Zf=O.forwardRef((r,e)=>{var t=O.useCallback(p=>X.createElement(Qf,We({},p)),[]),{autoFocus:n,decorate:a=_f,onDOMBeforeInput:u,placeholder:s,readOnly:l=!1,renderElement:c,renderLeaf:f,renderPlaceholder:d=t,scrollSelectionIntoView:g=ec,style:h={},as:m="div",disableDefaultStyles:C=!1}=r,v=st(r,Yf),i=Lr(),[B,A]=O.useState(!1),F=O.useRef(null),S=O.useRef([]),[R,H]=O.useState(),L=O.useRef(!1),{onUserInput:U,receivedUserInput:K}=Vf(),[,z]=O.useReducer(p=>p+1,0);_a.set(i,z),Nt.set(i,l);var $=O.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);O.useEffect(()=>{F.current&&n&&F.current.focus()},[n]);var y=O.useRef(),I=O.useMemo(()=>Iu(()=>{if(mr.get(i)){I();return}var p=T.toDOMNode(i,i),k=p.getRootNode();if(!L.current&&ar&&k instanceof ShadowRoot){L.current=!0;var P=gl();P?document.execCommand("indent"):w.deselect(i),L.current=!1;return}var j=y.current;if((ye||!T.isComposing(i))&&(!$.isUpdatingSelection||j!=null&&j.isFlushing())&&!$.isDraggingInternally){var te=T.findDocumentOrShadowRoot(i),{activeElement:G}=te,ve=T.toDOMNode(i,i),ie=xr(te);if(G===ve?($.latestElement=G,Qe.set(i,!0)):Qe.delete(i),!ie)return w.deselect(i);var{anchorNode:Z,focusNode:fe}=ie,De=T.hasEditableTarget(i,Z)||T.isTargetInsideNonReadonlyVoid(i,Z),Ce=T.hasTarget(i,fe);if(De&&Ce){var ce=T.toSlateRange(i,ie,{exactMatch:!1,suppressThrow:!0});ce&&(!T.isComposing(i)&&!(j!=null&&j.hasPendingChanges())&&!(j!=null&&j.isFlushing())?w.select(i,ce):j==null||j.handleUserSelect(ce))}l&&(!De||!Ce)&&w.deselect(i)}},100),[i,l,$]),N=O.useMemo(()=>ku(I,0),[I]);y.current=Of({node:F,onDOMSelectionChange:I,scheduleOnDOMSelectionChange:N}),$r(()=>{var p,k,P;F.current&&(P=en(F.current))?(Qa.set(i,P),Zr.set(i,F.current),sr.set(i,F.current),Mr.set(F.current,i)):sr.delete(i);var{selection:j}=i,te=T.findDocumentOrShadowRoot(i),G=xr(te);if(!(!G||!T.isFocused(i)||(p=y.current)!==null&&p!==void 0&&p.hasPendingAction())){var ve=De=>{var Ce=G.type!=="None";if(!(!j&&!Ce)){var ce=G.focusNode,Ae;if(pr&&G.rangeCount>1){var be=G.getRangeAt(0),ke=G.getRangeAt(G.rangeCount-1);be.startContainer===ce?Ae=ke.endContainer:Ae=be.startContainer}else Ae=G.anchorNode;var de=Zr.get(i),Te=!1;if(de.contains(Ae)&&de.contains(ce)&&(Te=!0),Ce&&Te&&j&&!De){var Ne=T.toSlateRange(i,G,{exactMatch:!0,suppressThrow:!0});if(Ne&&E.equals(Ne,j)){var le;if(!$.hasMarkPlaceholder||(le=Ae)!==null&&le!==void 0&&(le=le.parentElement)!==null&&le!==void 0&&le.hasAttribute("data-slate-mark-placeholder"))return}}if(j&&!T.hasRange(i,j)){i.selection=T.toSlateRange(i,G,{exactMatch:!1,suppressThrow:!0});return}$.isUpdatingSelection=!0;var he=j&&T.toDOMRange(i,j);return he?(T.isComposing(i)&&!ye?G.collapseToEnd():E.isBackward(j)?G.setBaseAndExtent(he.endContainer,he.endOffset,he.startContainer,he.startOffset):G.setBaseAndExtent(he.startContainer,he.startOffset,he.endContainer,he.endOffset),g(i,he)):G.removeAllRanges(),he}};G.rangeCount<=1&&ve();var ie=((k=y.current)===null||k===void 0?void 0:k.isFlushing())==="action";if(!ye||!ie){setTimeout(()=>{$.isUpdatingSelection=!1});return}var Z=null,fe=requestAnimationFrame(()=>{if(ie){var De=Ce=>{try{var ce=T.toDOMNode(i,i);ce.focus(),ve(Ce)}catch{}};De(),Z=setTimeout(()=>{De(!0),$.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(fe),Z&&clearTimeout(Z)}}});var M=O.useCallback(p=>{var k=T.toDOMNode(i,i),P=k.getRootNode();if(L!=null&&L.current&&ar&&P instanceof ShadowRoot){var j=p.getTargetRanges(),te=j[0],G=new window.Range;G.setStart(te.startContainer,te.startOffset),G.setEnd(te.endContainer,te.endOffset);var ve=T.toSlateRange(i,G,{exactMatch:!1,suppressThrow:!1});w.select(i,ve),p.preventDefault(),p.stopImmediatePropagation();return}if(U(),!l&&T.hasEditableTarget(i,p.target)&&!rc(p,u)){var ie;if(y.current)return y.current.handleDOMBeforeInput(p);N.flush(),I.flush();var{selection:Z}=i,{inputType:fe}=p,De=p.dataTransfer||p.data||void 0,Ce=fe==="insertCompositionText"||fe==="deleteCompositionText";if(Ce&&T.isComposing(i))return;var ce=!1;if(fe==="insertText"&&Z&&E.isCollapsed(Z)&&p.data&&p.data.length===1&&/[a-z ]/i.test(p.data)&&Z.anchor.offset!==0&&(ce=!0,i.marks&&(ce=!1),!mr.get(i))){var Ae,be,{anchor:ke}=Z,[de,Te]=T.toDOMPoint(i,ke),Ne=(Ae=de.parentElement)===null||Ae===void 0?void 0:Ae.closest("a"),le=T.getWindow(i);if(ce&&Ne&&T.hasDOMNode(i,Ne)){var he,rr=le==null?void 0:le.document.createTreeWalker(Ne,NodeFilter.SHOW_TEXT).lastChild();rr===de&&((he=rr.textContent)===null||he===void 0?void 0:he.length)===Te&&(ce=!1)}if(ce&&de.parentElement&&(le==null||(be=le.getComputedStyle(de.parentElement))===null||be===void 0?void 0:be.whiteSpace)==="pre"){var xe=o.above(i,{at:ke.path,match:vr=>q.isElement(vr)&&o.isBlock(i,vr)});xe&&x.string(xe[0]).includes("	")&&(ce=!1)}}if((!fe.startsWith("delete")||fe.startsWith("deleteBy"))&&!mr.get(i)){var[$e]=p.getTargetRanges();if($e){var tr=T.toSlateRange(i,$e,{exactMatch:!1,suppressThrow:!1});if(!Z||!E.equals(Z,tr)){ce=!1;var Le=!Ce&&i.selection&&o.rangeRef(i,i.selection);w.select(i,tr),Le&&Pr.set(i,Le)}}}if(Ce)return;if(ce||p.preventDefault(),Z&&E.isExpanded(Z)&&fe.startsWith("delete")){var vt=fe.endsWith("Backward")?"backward":"forward";o.deleteFragment(i,{direction:vt});return}switch(fe){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{o.deleteFragment(i);break}case"deleteContent":case"deleteContentForward":{o.deleteForward(i);break}case"deleteContentBackward":{o.deleteBackward(i);break}case"deleteEntireSoftLine":{o.deleteBackward(i,{unit:"line"}),o.deleteForward(i,{unit:"line"});break}case"deleteHardLineBackward":{o.deleteBackward(i,{unit:"block"});break}case"deleteSoftLineBackward":{o.deleteBackward(i,{unit:"line"});break}case"deleteHardLineForward":{o.deleteForward(i,{unit:"block"});break}case"deleteSoftLineForward":{o.deleteForward(i,{unit:"line"});break}case"deleteWordBackward":{o.deleteBackward(i,{unit:"word"});break}case"deleteWordForward":{o.deleteForward(i,{unit:"word"});break}case"insertLineBreak":o.insertSoftBreak(i);break;case"insertParagraph":{o.insertBreak(i);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{fe==="insertFromComposition"&&T.isComposing(i)&&(A(!1),ur.set(i,!1)),(De==null?void 0:De.constructor.name)==="DataTransfer"?T.insertData(i,De):typeof De=="string"&&(ce?S.current.push(()=>o.insertText(i,De)):o.insertText(i,De));break}}var br=(ie=Pr.get(i))===null||ie===void 0?void 0:ie.unref();Pr.delete(i),br&&(!i.selection||!E.equals(i.selection,br))&&w.select(i,br)}},[i,I,U,u,l,N]),ne=O.useCallback(p=>{p==null?(I.cancel(),N.cancel(),Zr.delete(i),sr.delete(i),F.current&&Ye&&F.current.removeEventListener("beforeinput",M)):Ye&&p.addEventListener("beforeinput",M),F.current=p,typeof e=="function"?e(p):e&&(e.current=p)},[I,N,i,M,e]);$r(()=>{var p=T.getWindow(i);p.document.addEventListener("selectionchange",N);var k=()=>{$.isDraggingInternally=!1};return p.document.addEventListener("dragend",k),p.document.addEventListener("drop",k),()=>{p.document.removeEventListener("selectionchange",N),p.document.removeEventListener("dragend",k),p.document.removeEventListener("drop",k)}},[N,$]);var V=a([i,[]]),ue=s&&i.children.length===1&&Array.from(x.texts(i)).length===1&&x.string(i)===""&&!B,_=O.useCallback(p=>{if(p&&ue){var k;H((k=p.getBoundingClientRect())===null||k===void 0?void 0:k.height)}else H(void 0)},[ue]);if(ue){var ae=o.start(i,[]);V.push({[Er]:!0,placeholder:s,onPlaceholderResize:_,anchor:ae,focus:ae})}var{marks:oe}=i;if($.hasMarkPlaceholder=!1,i.selection&&E.isCollapsed(i.selection)&&oe){var{anchor:se}=i.selection,ee=x.leaf(i,se.path),Ee=st(ee,Xf);if(!W.equals(ee,oe,{loose:!0})){$.hasMarkPlaceholder=!0;var J=Object.fromEntries(Object.keys(Ee).map(p=>[p,null]));V.push(We(We(We({[eu]:!0},J),oe),{},{anchor:se,focus:se}))}}return O.useEffect(()=>{setTimeout(()=>{var{selection:p}=i;if(p){var{anchor:k}=p,P=x.leaf(i,k.path);if(oe&&!W.equals(P,oe,{loose:!0})){Ie.set(i,oe);return}}Ie.delete(i)})}),X.createElement(Du.Provider,{value:l},X.createElement(Gf.Provider,{value:B},X.createElement(du.Provider,{value:a},X.createElement(Uf,{node:F,receivedUserInput:K},X.createElement(m,We(We({role:l?void 0:"textbox","aria-multiline":l?void 0:!0},v),{},{spellCheck:Ye||!Jr?v.spellCheck:!1,autoCorrect:Ye||!Jr?v.autoCorrect:"false",autoCapitalize:Ye||!Jr?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:ne,style:We(We({},C?{}:We({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},R?{minHeight:R}:{})),h),onBeforeInput:O.useCallback(p=>{if(!Ye&&!l&&!we(p,v.onBeforeInput)&&T.hasSelectableTarget(i,p.target)&&(p.preventDefault(),!T.isComposing(i))){var k=p.data;o.insertText(i,k)}},[v.onBeforeInput,i,l]),onInput:O.useCallback(p=>{if(!we(p,v.onInput)){if(y.current){y.current.handleInput();return}for(var k of S.current)k();if(S.current=[],!T.isFocused(i)){var P=p.nativeEvent,j=i;if(P.inputType==="historyUndo"&&typeof j.undo=="function"){j.undo();return}if(P.inputType==="historyRedo"&&typeof j.redo=="function"){j.redo();return}}}},[v.onInput,i]),onBlur:O.useCallback(p=>{if(!(l||$.isUpdatingSelection||!T.hasSelectableTarget(i,p.target)||we(p,v.onBlur))){var k=T.findDocumentOrShadowRoot(i);if($.latestElement!==k.activeElement){var{relatedTarget:P}=p,j=T.toDOMNode(i,i);if(P!==j&&!(Re(P)&&P.hasAttribute("data-slate-spacer"))){if(P!=null&&_e(P)&&T.hasDOMNode(i,P)){var te=T.toSlateNode(i,P);if(q.isElement(te)&&!i.isVoid(te))return}if(ar){var G=xr(k);G==null||G.removeAllRanges()}Qe.delete(i)}}}},[l,$.isUpdatingSelection,$.latestElement,i,v.onBlur]),onClick:O.useCallback(p=>{if(T.hasTarget(i,p.target)&&!we(p,v.onClick)&&_e(p.target)){var k=T.toSlateNode(i,p.target),P=T.findPath(i,k);if(!o.hasPath(i,P)||x.get(i,P)!==k)return;if(p.detail===Il&&P.length>=1){var j=P;if(!(q.isElement(k)&&o.isBlock(i,k))){var te,G=o.above(i,{match:ce=>q.isElement(ce)&&o.isBlock(i,ce),at:P});j=(te=G==null?void 0:G[1])!==null&&te!==void 0?te:P.slice(0,1)}var ve=o.range(i,j);w.select(i,ve);return}if(l)return;var ie=o.start(i,P),Z=o.end(i,P),fe=o.void(i,{at:ie}),De=o.void(i,{at:Z});if(fe&&De&&D.equals(fe[1],De[1])){var Ce=o.range(i,ie);w.select(i,Ce)}}},[i,v.onClick,l]),onCompositionEnd:O.useCallback(p=>{if(T.hasSelectableTarget(i,p.target)){var k;if(T.isComposing(i)&&Promise.resolve().then(()=>{A(!1),ur.set(i,!1)}),(k=y.current)===null||k===void 0||k.handleCompositionEnd(p),we(p,v.onCompositionEnd)||ye)return;if(!ar&&!El&&!Xa&&!Fl&&!Al&&p.data){var P=Ie.get(i);Ie.delete(i),P!==void 0&&(He.set(i,i.marks),i.marks=P),o.insertText(i,p.data);var j=He.get(i);He.delete(i),j!==void 0&&(i.marks=j)}}},[v.onCompositionEnd,i]),onCompositionUpdate:O.useCallback(p=>{T.hasSelectableTarget(i,p.target)&&!we(p,v.onCompositionUpdate)&&(T.isComposing(i)||(A(!0),ur.set(i,!0)))},[v.onCompositionUpdate,i]),onCompositionStart:O.useCallback(p=>{if(T.hasSelectableTarget(i,p.target)){var k;if((k=y.current)===null||k===void 0||k.handleCompositionStart(p),we(p,v.onCompositionStart)||ye)return;A(!0);var{selection:P}=i;if(P&&E.isExpanded(P)){o.deleteFragment(i);return}}},[v.onCompositionStart,i]),onCopy:O.useCallback(p=>{T.hasSelectableTarget(i,p.target)&&!we(p,v.onCopy)&&!wa(p)&&(p.preventDefault(),T.setFragmentData(i,p.clipboardData,"copy"))},[v.onCopy,i]),onCut:O.useCallback(p=>{if(!l&&T.hasSelectableTarget(i,p.target)&&!we(p,v.onCut)&&!wa(p)){p.preventDefault(),T.setFragmentData(i,p.clipboardData,"cut");var{selection:k}=i;if(k)if(E.isExpanded(k))o.deleteFragment(i);else{var P=x.parent(i,k.anchor.path);o.isVoid(i,P)&&w.delete(i)}}},[l,i,v.onCut]),onDragOver:O.useCallback(p=>{if(T.hasTarget(i,p.target)&&!we(p,v.onDragOver)){var k=T.toSlateNode(i,p.target);q.isElement(k)&&o.isVoid(i,k)&&p.preventDefault()}},[v.onDragOver,i]),onDragStart:O.useCallback(p=>{if(!l&&T.hasTarget(i,p.target)&&!we(p,v.onDragStart)){var k=T.toSlateNode(i,p.target),P=T.findPath(i,k),j=q.isElement(k)&&o.isVoid(i,k)||o.void(i,{at:P,voids:!0});if(j){var te=o.range(i,P);w.select(i,te)}$.isDraggingInternally=!0,T.setFragmentData(i,p.dataTransfer,"drag")}},[l,i,v.onDragStart,$]),onDrop:O.useCallback(p=>{if(!l&&T.hasTarget(i,p.target)&&!we(p,v.onDrop)){p.preventDefault();var k=i.selection,P=T.findEventRange(i,p),j=p.dataTransfer;w.select(i,P),$.isDraggingInternally&&k&&!E.equals(k,P)&&!o.void(i,{at:P,voids:!0})&&w.delete(i,{at:k}),T.insertData(i,j),T.isFocused(i)||T.focus(i)}},[l,i,v.onDrop,$]),onDragEnd:O.useCallback(p=>{!l&&$.isDraggingInternally&&v.onDragEnd&&T.hasTarget(i,p.target)&&v.onDragEnd(p)},[l,$,v,i]),onFocus:O.useCallback(p=>{if(!l&&!$.isUpdatingSelection&&T.hasEditableTarget(i,p.target)&&!we(p,v.onFocus)){var k=T.toDOMNode(i,i),P=T.findDocumentOrShadowRoot(i);if($.latestElement=P.activeElement,pr&&p.target!==k){k.focus();return}Qe.set(i,!0)}},[l,$,i,v.onFocus]),onKeyDown:O.useCallback(p=>{if(!l&&T.hasEditableTarget(i,p.target)){var k;(k=y.current)===null||k===void 0||k.handleKeyDown(p);var{nativeEvent:P}=p;if(T.isComposing(i)&&P.isComposing===!1&&(ur.set(i,!1),A(!1)),we(p,v.onKeyDown)||T.isComposing(i))return;var{selection:j}=i,te=i.children[j!==null?j.focus.path[0]:0],G=za(x.string(te))==="rtl";if(me.isRedo(P)){p.preventDefault();var ve=i;typeof ve.redo=="function"&&ve.redo();return}if(me.isUndo(P)){p.preventDefault();var ie=i;typeof ie.undo=="function"&&ie.undo();return}if(me.isMoveLineBackward(P)){p.preventDefault(),w.move(i,{unit:"line",reverse:!0});return}if(me.isMoveLineForward(P)){p.preventDefault(),w.move(i,{unit:"line"});return}if(me.isExtendLineBackward(P)){p.preventDefault(),w.move(i,{unit:"line",edge:"focus",reverse:!0});return}if(me.isExtendLineForward(P)){p.preventDefault(),w.move(i,{unit:"line",edge:"focus"});return}if(me.isMoveBackward(P)){p.preventDefault(),j&&E.isCollapsed(j)?w.move(i,{reverse:!G}):w.collapse(i,{edge:G?"end":"start"});return}if(me.isMoveForward(P)){p.preventDefault(),j&&E.isCollapsed(j)?w.move(i,{reverse:G}):w.collapse(i,{edge:G?"start":"end"});return}if(me.isMoveWordBackward(P)){p.preventDefault(),j&&E.isExpanded(j)&&w.collapse(i,{edge:"focus"}),w.move(i,{unit:"word",reverse:!G});return}if(me.isMoveWordForward(P)){p.preventDefault(),j&&E.isExpanded(j)&&w.collapse(i,{edge:"focus"}),w.move(i,{unit:"word",reverse:G});return}if(Ye){if((Ja||ar)&&j&&(me.isDeleteBackward(P)||me.isDeleteForward(P))&&E.isCollapsed(j)){var Z=x.parent(i,j.anchor.path);if(q.isElement(Z)&&o.isVoid(i,Z)&&(o.isInline(i,Z)||o.isBlock(i,Z))){p.preventDefault(),o.deleteBackward(i,{unit:"block"});return}}}else{if(me.isBold(P)||me.isItalic(P)||me.isTransposeCharacter(P)){p.preventDefault();return}if(me.isSoftBreak(P)){p.preventDefault(),o.insertSoftBreak(i);return}if(me.isSplitBlock(P)){p.preventDefault(),o.insertBreak(i);return}if(me.isDeleteBackward(P)){p.preventDefault(),j&&E.isExpanded(j)?o.deleteFragment(i,{direction:"backward"}):o.deleteBackward(i);return}if(me.isDeleteForward(P)){p.preventDefault(),j&&E.isExpanded(j)?o.deleteFragment(i,{direction:"forward"}):o.deleteForward(i);return}if(me.isDeleteLineBackward(P)){p.preventDefault(),j&&E.isExpanded(j)?o.deleteFragment(i,{direction:"backward"}):o.deleteBackward(i,{unit:"line"});return}if(me.isDeleteLineForward(P)){p.preventDefault(),j&&E.isExpanded(j)?o.deleteFragment(i,{direction:"forward"}):o.deleteForward(i,{unit:"line"});return}if(me.isDeleteWordBackward(P)){p.preventDefault(),j&&E.isExpanded(j)?o.deleteFragment(i,{direction:"backward"}):o.deleteBackward(i,{unit:"word"});return}if(me.isDeleteWordForward(P)){p.preventDefault(),j&&E.isExpanded(j)?o.deleteFragment(i,{direction:"forward"}):o.deleteForward(i,{unit:"word"});return}}}},[l,i,v.onKeyDown]),onPaste:O.useCallback(p=>{!l&&T.hasEditableTarget(i,p.target)&&!we(p,v.onPaste)&&(!Ye||fl(p.nativeEvent)||ar)&&(p.preventDefault(),T.insertData(i,p.clipboardData))},[l,i,v.onPaste])}),X.createElement(Jf,{decorations:V,node:i,renderElement:c,renderPlaceholder:d,renderLeaf:f,selection:i.selection}))))))}),Qf=r=>{var{attributes:e,children:t}=r;return X.createElement("span",We({},e),t,ye&&X.createElement("br",null))},_f=()=>[],ec=(r,e)=>{if(e.getBoundingClientRect&&(!r.selection||r.selection&&E.isCollapsed(r.selection))){var t=e.startContainer.parentElement;t.getBoundingClientRect=e.getBoundingClientRect.bind(e),al(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},we=(r,e)=>{if(!e)return!1;var t=e(r);return t??(r.isDefaultPrevented()||r.isPropagationStopped())},wa=r=>_e(r.target)&&(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement),rc=(r,e)=>{if(!e)return!1;var t=e(r);return t??r.defaultPrevented},tc=O.createContext(!1),nc=O.createContext({});function ac(r){var e=O.useRef([]).current,t=O.useRef({editor:r}).current,n=O.useCallback(u=>{t.editor=u,e.forEach(s=>s(u))},[e,t]),a=O.useMemo(()=>({getSlate:()=>t.editor,addEventListener:u=>(e.push(u),()=>{e.splice(e.indexOf(u),1)})}),[e,t]);return{selectorContext:a,onChange:n}}var pu=parseInt(X.version.split(".")[0],10),uc=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],sc=r=>{var{editor:e,children:t,onChange:n,onSelectionChange:a,onValueChange:u,initialValue:s}=r,l=st(r,uc),[c,f]=X.useState(()=>{if(!x.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Be.stringify(s)));if(!o.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Be.stringify(e)));return e.children=s,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:d,onChange:g}=ac(e),h=O.useCallback(v=>{var i;switch(n&&n(e.children),v==null||(i=v.operation)===null||i===void 0?void 0:i.type){case"set_selection":a==null||a(e.selection);break;default:u==null||u(e.children)}f(B=>({v:B.v+1,editor:e})),g(e)},[e,g,n,a,u]);O.useEffect(()=>(Mt.set(e,h),()=>{Mt.set(e,()=>{})}),[e,h]);var[m,C]=O.useState(T.isFocused(e));return O.useEffect(()=>{C(T.isFocused(e))},[e]),$r(()=>{var v=()=>C(T.isFocused(e));return pu>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),X.createElement(nc.Provider,{value:d},X.createElement(hu.Provider,{value:c},X.createElement(sn.Provider,{value:c.editor},X.createElement(tc.Provider,{value:m},t))))},ic=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e;n=Ml(n,t);var{onChange:a}=n;return n.onChange=u=>{var s=pu<18?Ou.unstable_batchedUpdates:l=>l();s(()=>{a(u)})},n};const oc=({onChange:r})=>{const[e]=O.useState(()=>ic(Zo())),[t,n]=O.useState([{type:"paragraph",children:[{text:""}]}]),a=O.useCallback(l=>{n(l);const c=l.map(f=>{if(f.type==="paragraph")return`<p>${f.children.map(g=>{let h=g.text;return g.bold&&(h=`<strong>${h}</strong>`),g.italic&&(h=`<em>${h}</em>`),g.underline&&(h=`<u>${h}</u>`),h}).join("")}</p>`;if(f.type==="math"){const d=f.children&&f.children[0]?f.children[0].text:"";return`<MathJax class="math-element" data-latex="${f.latex}">\\(${f.latex}\\)</MathJax>${d}`}else if(f.type==="block-quote")return`<blockquote>${f.children.map(d=>d.text).join("")}</blockquote>`;return""}).join("");r&&r(c)},[r]),u=O.useCallback(l=>{switch(l.element.type){case"math":return b.jsx(Dc,{...l});case"block-quote":return b.jsx("blockquote",{...l.attributes,children:l.children});default:return b.jsx(gc,{...l})}},[]),s=O.useCallback(l=>b.jsx(pc,{...l}),[]);return b.jsx("div",{className:"border p-5",children:b.jsxs(sc,{editor:e,value:t,initialValue:t,onChange:a,children:[b.jsxs(lc,{children:[b.jsx(wt,{format:"bold",icon:b.jsx(Yu,{})}),b.jsx(wt,{format:"italic",icon:b.jsx(Xu,{})}),b.jsx(wt,{format:"underline",icon:b.jsx(Zu,{})}),b.jsx(fc,{format:"block-quote",icon:b.jsx(Ju,{})}),b.jsx(cc,{})]}),b.jsx(Zf,{className:"mt-5 p-5 border",renderElement:u,renderLeaf:s,placeholder:"Write your question here..."})]})})},lc=({children:r})=>b.jsx("div",{style:{border:"1px solid #ccc",padding:"8px",marginBottom:"8px",display:"flex",gap:"8px"},children:r}),wt=({format:r,icon:e})=>{const t=Lr();return b.jsx("span",{onMouseDown:n=>{n.preventDefault(),dc(t,r)},style:{backgroundColor:mu(t,r)?"#ddd":"transparent"},children:b.jsx("span",{className:"material-icons",children:e})})},fc=({format:r,icon:e})=>{const t=Lr();return b.jsx("span",{onMouseDown:n=>{n.preventDefault(),vc(t,r)},style:{backgroundColor:Cu(t,r)?"#ddd":"transparent"},children:b.jsx("span",{className:"material-icons",children:e})})},cc=()=>{const r=Lr();return b.jsx("span",{onMouseDown:e=>{e.preventDefault(),hc(r)},children:b.jsx(Qu,{})})},dc=(r,e)=>{mu(r,e)?o.removeMark(r,e):o.addMark(r,e,!0)},mu=(r,e)=>{const t=o.marks(r);return t?t[e]===!0:!1},vc=(r,e)=>{const t=Cu(r,e);w.setNodes(r,{type:t?"paragraph":e},{match:n=>o.isBlock(r,n)})},Cu=(r,e)=>{const[t]=o.nodes(r,{match:n=>n.type===e});return!!t},Dc=({attributes:r,children:e,element:t})=>{const n=Lr(),[a,u]=O.useState(!1),[s,l]=O.useState(t.latex||"edit latex"),c=()=>{u(!0)},f=()=>{u(!1)},d=g=>{const h=g.target.value;l(h);const m=T.findPath(n,t);w.setNodes(n,{latex:h},{at:m})};return b.jsxs("div",{...r,className:"inline-block",children:[a?b.jsx("input",{value:s,onChange:d,onBlur:f,type:"text",placeholder:"Enter LaTeX expression",className:"text-black inline "}):b.jsx("div",{contentEditable:!1,onDoubleClick:c,className:"text-black inline-flex",children:b.jsx($u,{className:"inline-block px-2 hover:bg-gray-700 ",title:"double click to edit","aria-placeholder":"double click to edit",children:`\\(${s}\\)`})}),e]})},hc=r=>{const e={type:"math",latex:"",children:[{text:""}]};w.insertNodes(r,e)},gc=r=>b.jsx("p",{...r.attributes,children:r.children}),pc=({attributes:r,children:e,leaf:t})=>(t.bold&&(e=b.jsx("strong",{children:e})),t.italic&&(e=b.jsx("em",{children:e})),t.underline&&(e=b.jsx("u",{children:e})),b.jsx("span",{...r,children:e})),Ic=({auth:r,exam:e,subject:t})=>{const n=Ar("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),a={loader:{load:["input/asciimath","output/chtml"]},tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0}},u=xu({title:e?e.title:"",description:e?e.description:"",start_date:e?e.start_date:"",end_date:e?e.end_date:"",duration:e?e.duration:"",subject_id:e?e.subject_id:"",grade:e?e.grade:"",questions:e?e.questions:[{question:"",image:null,option1:"",option2:"",option3:"",option4:"",answer:"option1",description:""}]}),s=v=>{v.preventDefault(),e?u.put(`/exam/${e.id}`,{onSuccess:()=>{on.success("Exam updated successfully")}}):u.post("/exam",{onSuccess:()=>{on.success("Exam created successfully"),c()}})};function l(){u.setData("questions",[...u.data.questions,{question:"",option1:"",option2:"",option3:"",option4:"",answer:"option1",description:""}])}const c=()=>{u.setData({title:"",description:"",start_date:"",end_date:"",duration:"",subject_id:"",grade:"",questions:[{question:"",option1:"",option2:"",option3:"",option4:"",answer:"option1",description:""}]})};function f(v){if(u.data.questions.length===1)return null;const i=[...u.data.questions];i.splice(v,1),console.log(i),u.setData("questions",i)}const d=(v,i,B)=>{u.clearErrors();const A=[...u.data.questions];A[v][i]=B,u.setData({...u.data,questions:A})},[g,h]=O.useState(0),[m,C]=O.useState(!1);return b.jsxs(ju,{user:r.user,children:[b.jsx(Pu,{title:"Add Exam"}),b.jsx(Mu,{show:m,onClose:C}),b.jsx("div",{className:"w-full p-5",children:b.jsx("div",{className:" rounded-md gap-5",children:b.jsxs("form",{onSubmit:s,className:"flex flex-col gap-5 w-full",children:[b.jsxs("div",{className:"flex w-full gap-5",children:[b.jsxs("div",{className:"w-[30%] flex flex-col gap-5 bg-white p-5 py-10 rounded-md shadow-md",children:[b.jsx("p",{className:"font-space text-lg font-",children:"Exam Details"}),b.jsx(Ge,{label:"Grade",fullWidth:!0,type:"number",error:u.errors.grade,helperText:u.errors.grade,value:u.data.grade,onChange:v=>u.setData("grade",v.target.value)}),b.jsxs(Wu,{fullWidth:!0,error:u.errors.subject_id,children:[b.jsx(qu,{children:"Subject"}),b.jsxs(Vu,{value:u.data.subject_id,label:"Subject",onChange:v=>u.setData("subject_id",v.target.value),children:[b.jsx(ln,{value:"",onClick:()=>C(!0),children:b.jsxs("div",{className:"text-gray-400",children:[b.jsx(fn,{})," add Subject"]})}),t.map(v=>b.jsx(ln,{value:v.id,children:v.name},v.id))]}),b.jsx(Hu,{children:u.errors.subject_id})]}),b.jsx(Ge,{label:"Title",id:"outlined-basic",variant:"outlined",error:u.errors.title,helperText:u.errors.title,fullWidth:!0,sx:{outline:"none"},value:u.data.title,onChange:v=>u.setData("title",v.target.value)}),b.jsx(Ge,{label:"Duration(minutes)",id:"outlined-basic",variant:"outlined",error:u.errors.duration,helperText:u.errors.duration,fullWidth:!0,value:u.data.duration,onChange:v=>u.setData("duration",v.target.value)}),b.jsx(Ge,{label:"Description",id:"outlined-basic",variant:"outlined",error:u.errors.description,helperText:u.errors.description,fullWidth:!0,value:u.data.description,onChange:v=>u.setData("description",v.target.value)})]}),b.jsxs("div",{className:"w-[70%] bg-white rounded-md shadow-md p-5 py-10",children:[b.jsxs("div",{className:"flex justify-between items-center cursor-pointer",children:[b.jsx("p",{className:"font-space text-lg font-semibold",children:"Questions"}),b.jsxs(Dt,{onClick:l,variant:"contained",children:[b.jsx(fn,{}),"Add Question"]})]}),b.jsx("div",{className:"mt-5 flex flex-col gap-1",children:u.data.questions.map((v,i)=>b.jsxs("div",{className:"flex gap-1",children:[b.jsxs(as,{expanded:g===i,onChange:()=>h(g===i?-1:i),className:"w-full rounded-md",children:[b.jsxs(gs,{expandIcon:b.jsx(Gu,{}),children:["Question #",i+1]}),b.jsx(ls,{children:b.jsxs("div",{className:"",children:[b.jsx(Lu,{config:a,children:b.jsx(oc,{onChange:B=>d(i,"question",B)})}),b.jsxs("div",{className:"py-5",children:[b.jsxs(Dt,{component:"label",variant:"contained",tabIndex:-1,color:u.data.questions[i].image?"success":"info",startIcon:b.jsx(Oa,{}),fullWidth:!0,children:["Upload Image",b.jsx(n,{type:"file",onChange:B=>d(i,"image",B.target.files[0]),accept:"image/*"})]}),b.jsxs("div",{className:"flex py-5 justify-between",children:[b.jsxs("div",{className:"flex ",children:[b.jsx(zr,{value:"option1",checked:v.answer==="option1",onChange:B=>d(i,"answer",B.target.value)}),b.jsx(Ge,{label:"option A",error:u.errors[`questions.${i}.option1`],helperText:u.errors[`questions.${i}.option1`],onChange:B=>d(i,"option1",B.target.value),value:v.option1})]}),b.jsxs("div",{className:"flex ",children:[b.jsx(zr,{value:"option2",checked:v.answer==="option2",onChange:B=>d(i,"answer",B.target.value)}),b.jsx(Ge,{label:"option B",error:u.errors[`questions.${i}.option2`],helperText:u.errors[`questions.${i}.option2`],onChange:B=>d(i,"option2",B.target.value),value:v.option2})]})]}),b.jsxs("div",{className:"flex py-5 justify-between",children:[b.jsxs("div",{className:"flex ",children:[b.jsx(zr,{value:"option3",checked:v.answer==="option3",onChange:B=>d(i,"answer",B.target.value)}),b.jsx(Ge,{label:"option C",placeholder:"optional",error:u.errors[`questions.${i}.option3`],helperText:u.errors[`questions.${i}.option3`],onChange:B=>d(i,"option3",B.target.value),value:v.option3})]}),b.jsxs("div",{className:"flex ",children:[b.jsx(zr,{value:"option4",checked:v.answer==="option4",onChange:B=>d(i,"answer",B.target.value)}),b.jsx(Ge,{label:"option D",placeholder:"optional",error:u.errors[`questions.${i}.option4`],helperText:u.errors[`questions.${i}.option4`],onChange:B=>d(i,"option4",B.target.value),value:v.option4})]})]})]})]})})]})," ",b.jsx("div",{className:"w-10 flex justify-center items-center bg-red-400 rounded-md cursor-pointer",onClick:()=>f(i),children:b.jsx(_u,{})})]},i))})]})]}),b.jsx("div",{className:"flex w-full",children:b.jsx(Dt,{fullWidth:!0,variant:"contained",type:"submit",disabled:u.processing,children:e?"update":"submit"})})]})})})]})};export{Ic as default};

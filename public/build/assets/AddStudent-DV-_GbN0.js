import{r as f,j as r,W}from"./app-CN7q16mo.js";import{M as T}from"./Modal-11_RrgoX.js";import{d as h}from"./dayjs.min-_yjAvwpX.js";import{B as _}from"./react-toastify.esm-AZ9YETI_.js";import{T as u,F as P,q as A}from"./TextField-DqoJh2cB.js";import{g as F,b as R,s as L,e as g,u as U,_ as M,a as D,f as G,d as E,t as k,n as B}from"./ButtonBase-CuqmQs8a.js";import{a as V,R as C}from"./Radio-DbFPVcr2.js";import{a as q,f as I}from"./useFormControl-BD7yWTeC.js";import{F as y}from"./FormControlLabel-ZtahNjEO.js";import{L as $,A as z,D as H}from"./AdapterDayjs-D-8GplSq.js";import{B as w}from"./Button-CVdFnAHl.js";import"./transition-CC_gOjYu.js";import"./SwitchBase-BdaAChQS.js";import"./Typography-EfFZ-76c.js";import"./index-B9QlZMXV.js";import"./IconButton-l2uRd08m.js";function J(l){return R("MuiFormGroup",l)}F("MuiFormGroup",["root","row","error"]);const K=["className","row"],O=l=>{const{classes:i,row:e,error:o}=l;return G({root:["root",e&&"row",o&&"error"]},J,i)},Q=L("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(l,i)=>{const{ownerState:e}=l;return[i.root,e.row&&i.row]}})(({ownerState:l})=>g({display:"flex",flexDirection:"column",flexWrap:"wrap"},l.row&&{flexDirection:"row"})),X=f.forwardRef(function(i,e){const o=U({props:i,name:"MuiFormGroup"}),{className:s,row:t=!1}=o,n=M(o,K),x=q(),d=I({props:o,muiFormControl:x,states:["error"]}),m=g({},o,{row:t,error:d.error}),p=O(m);return r.jsx(Q,g({className:D(p.root,s),ownerState:m,ref:e},n))});function Z(l){return R("MuiRadioGroup",l)}F("MuiRadioGroup",["root","row","error"]);const ee=["actions","children","className","defaultValue","name","onChange","value"],re=l=>{const{classes:i,row:e,error:o}=l;return G({root:["root",e&&"row",o&&"error"]},Z,i)},ae=f.forwardRef(function(i,e){const{actions:o,children:s,className:t,defaultValue:n,name:x,onChange:d,value:m}=i,p=M(i,ee),a=f.useRef(null),N=re(i),[v,j]=E({controlled:m,default:n,name:"RadioGroup"});f.useImperativeHandle(o,()=>({focus:()=>{let c=a.current.querySelector("input:not(:disabled):checked");c||(c=a.current.querySelector("input:not(:disabled)")),c&&c.focus()}}),[]);const Y=k(e,a),b=B(x),S=f.useMemo(()=>({name:b,onChange(c){j(c.target.value),d&&d(c,c.target.value)},value:v}),[b,d,j,v]);return r.jsx(V.Provider,{value:S,children:r.jsx(X,g({role:"radiogroup",ref:Y,className:D(N.root,t)},p,{children:s}))})}),je=({show:l,onClose:i,student:e})=>{const{data:o,setData:s,errors:t,reset:n,setError:x,post:d,put:m}=W({first_name:e?e.first_name:"",last_name:e?e.last_name:"",email:e?e.email:"",phone:e?e.phone:"",address:e?e.address:"",grade:e?e.grade:"",city:e?e.city:"",state:e?e.state:"",gender:e?e.gender:"female",date_of_birth:e?h(e.date_of_birth).format("YYYY-MM-DD"):h().format("YYYY-MM-DD")});f.useEffect(()=>{e?s({first_name:e.first_name,last_name:e.last_name,email:e.user?e.user.email:"",phone:e.phone,address:e.address,grade:e.grade,city:e.city,state:e.state,gender:e.gender,date_of_birth:h(e.date_of_birth).format("YYYY-MM-DD")}):n()},[e]);function p(a){a.preventDefault(),e?m(route("student.update",e.id),{onSuccess:()=>{n(),_.success("Student updated successfully"),onclose(!1)}}):d(route("student.store"),{onSuccess:()=>{n(),_.success("Student added successfully"),onclose(!1)}})}return r.jsxs(T,{show:l,onClose:i,children:[r.jsx("h2",{className:"p-5 pb-0 text-center text-2xl font-bold",children:"Add Student"}),r.jsxs("form",{onSubmit:p,className:"p-10 flex flex-col gap-5 pt-5 overflow-y-auto max-h-[500px]",children:[r.jsxs("div",{className:"w-full flex gap-5",children:[r.jsx(u,{fullWidth:!0,label:"First Name",value:o.first_name,onChange:a=>s("first_name",a.target.value),error:t.first_name,helperText:t.first_name}),r.jsx(u,{fullWidth:!0,label:"Last Name",value:o.last_name,onChange:a=>s("last_name",a.target.value),error:t.last_name,helperText:t.last_name})]}),r.jsx(u,{fullWidth:!0,label:"Email",value:o.email,onChange:a=>s("email",a.target.value),error:t.email,helperText:t.email}),r.jsx(u,{fullWidth:!0,label:"Phone",placeholder:"optional",value:o.phone,onChange:a=>s("phone",a.target.value),error:t.phone,helperText:t.phone}),r.jsx(u,{fullWidth:!0,label:"Grade",type:"number",value:o.grade,onChange:a=>s("grade",a.target.value),error:t.grade,helperText:t.grade}),r.jsxs("div",{className:"flex gap-5",children:[r.jsx(P,{fullWidth:!0,children:r.jsxs("div",{className:"flex gap-5 items-center border p-[7px] rounded-md border-gray-300",children:[r.jsx(A,{id:"demo-radio-buttons-group-label",children:"Gender"}),r.jsx(ae,{value:o.gender,name:"radio-buttons-group",children:r.jsxs("div",{className:"",children:[r.jsx(y,{value:"female",control:r.jsx(C,{}),label:"Female",onChange:a=>s("gender",a.target.value)}),r.jsx(y,{value:"male",control:r.jsx(C,{}),label:"Male",onChange:a=>s("gender",a.target.value)})]})})]})}),r.jsx($,{dateAdapter:z,children:r.jsx(H,{className:"w-full",label:"Date of Birth",value:h(o.date_of_birth),onChange:a=>s("date_of_birth",h(a).format("YYYY-MM-DD"))})})]}),r.jsx(u,{fullWidth:!0,label:"Address",value:o.address,onChange:a=>s("address",a.target.value),error:t.address,helperText:t.address}),r.jsxs("div",{className:"flex gap-5",children:[r.jsx(u,{fullWidth:!0,label:"City",value:o.city,onChange:a=>s("city",a.target.value),error:t.city,helperText:t.city}),r.jsx(u,{fullWidth:!0,label:"State",value:o.state,onChange:a=>s("state",a.target.value),error:t.state,helperText:t.state})]}),r.jsxs("div",{className:"flex gap-5 justify-end",children:[r.jsx(w,{variant:"contained",color:"error",onClick:()=>n(),children:"cancel"}),r.jsx(w,{type:"submit",variant:"contained",children:e?"update":"submit"})]})]})]})};export{je as default};

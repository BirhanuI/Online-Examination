import{j as o,r as f,W as O,Y}from"./app-fYVjkQOm.js";import{A as J}from"./AuthenticatedLayout-Ba8P_bfZ.js";import{B as W}from"./react-toastify.esm-DYnNRYvm.js";import{P as K,F as X,I as Z,S as ee,a as oe,T as h}from"./TextField-DY2V4hyg.js";import{M as se}from"./MenuItem-Cs0T80EQ.js";import{B}from"./Button-D54-nO_N.js";import{A as te}from"./Add-CtyQtlPc.js";import{c as I,g as D,a as $,s as w,u as T,_ as P,b as re,d as g,e as R,f as _,B as ae}from"./ButtonBase-BWh1EAbZ.js";import{u as ne,C as ie}from"./useSlot-DZCi7SNM.js";import{R as A}from"./Radio-DSwELp4U.js";import"./transition-D9Ip1LdW.js";import"./dividerClasses-BCioknvO.js";import"./useFormControl-is5dvNrs.js";import"./SwitchBase-MwhCrlYR.js";const le=I(o.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),de=I(o.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove"),G=f.createContext({});function ce(s){return $("MuiAccordion",s)}const N=D("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),ue=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],pe=s=>{const{classes:t,square:e,expanded:i,disabled:d,disableGutters:c}=s;return _({root:["root",!e&&"rounded",i&&"expanded",d&&"disabled",!c&&"gutters"],region:["region"]},ce,t)},me=w(K,{name:"MuiAccordion",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:e}=s;return[{[`& .${N.region}`]:t.region},t.root,!e.square&&t.rounded,!e.disableGutters&&t.gutters]}})(({theme:s})=>{const t={duration:s.transitions.duration.shortest};return{position:"relative",transition:s.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(s.vars||s).palette.divider,transition:s.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${N.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${N.disabled}`]:{backgroundColor:(s.vars||s).palette.action.disabledBackground}}},({theme:s})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(s.vars||s).shape.borderRadius,borderTopRightRadius:(s.vars||s).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(s.vars||s).shape.borderRadius,borderBottomRightRadius:(s.vars||s).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${N.expanded}`]:{margin:"16px 0"}}}]})),fe=f.forwardRef(function(t,e){const i=T({props:t,name:"MuiAccordion"}),{children:d,className:c,defaultExpanded:u=!1,disabled:m=!1,disableGutters:l=!1,expanded:b,onChange:x,square:a=!1,slots:r={},slotProps:n={},TransitionComponent:v,TransitionProps:j}=i,C=P(i,ue),[p,k]=re({controlled:b,default:u,name:"Accordion",state:"expanded"}),M=f.useCallback(z=>{k(!p),x&&x(z,!p)},[p,x,k]),[S,...V]=f.Children.toArray(d),Q=f.useMemo(()=>({expanded:p,disabled:m,disableGutters:l,toggle:M}),[p,m,l,M]),q=g({},i,{square:a,disabled:m,disableGutters:l,expanded:p}),E=pe(q),U=g({transition:v},r),F=g({transition:j},n),[L,H]=ne("transition",{elementType:ie,externalForwardedProps:{slots:U,slotProps:F},ownerState:q});return o.jsxs(me,g({className:R(E.root,c),ref:e,ownerState:q,square:a},C,{children:[o.jsx(G.Provider,{value:Q,children:S}),o.jsx(L,g({in:p,timeout:"auto"},H,{children:o.jsx("div",{"aria-labelledby":S.props.id,id:S.props["aria-controls"],role:"region",className:E.region,children:V})}))]}))});function xe(s){return $("MuiAccordionDetails",s)}D("MuiAccordionDetails",["root"]);const he=["className"],ge=s=>{const{classes:t}=s;return _({root:["root"]},xe,t)},be=w("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(s,t)=>t.root})(({theme:s})=>({padding:s.spacing(1,2,2)})),ve=f.forwardRef(function(t,e){const i=T({props:t,name:"MuiAccordionDetails"}),{className:d}=i,c=P(i,he),u=i,m=ge(u);return o.jsx(be,g({className:R(m.root,d),ref:e,ownerState:u},c))});function je(s){return $("MuiAccordionSummary",s)}const y=D("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ce=["children","className","expandIcon","focusVisibleClassName","onClick"],ye=s=>{const{classes:t,expanded:e,disabled:i,disableGutters:d}=s;return _({root:["root",e&&"expanded",i&&"disabled",!d&&"gutters"],focusVisible:["focusVisible"],content:["content",e&&"expanded",!d&&"contentGutters"],expandIconWrapper:["expandIconWrapper",e&&"expanded"]},je,t)},we=w(ae,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(s,t)=>t.root})(({theme:s})=>{const t={duration:s.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:s.spacing(0,2),transition:s.transitions.create(["min-height","background-color"],t),[`&.${y.focusVisible}`]:{backgroundColor:(s.vars||s).palette.action.focus},[`&.${y.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity},[`&:hover:not(.${y.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${y.expanded}`]:{minHeight:64}}}]}}),Ae=w("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(s,t)=>t.content})(({theme:s})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:s.transitions.create(["margin"],{duration:s.transitions.duration.shortest}),[`&.${y.expanded}`]:{margin:"20px 0"}}}]})),Ne=w("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(s,t)=>t.expandIconWrapper})(({theme:s})=>({display:"flex",color:(s.vars||s).palette.action.active,transform:"rotate(0deg)",transition:s.transitions.create("transform",{duration:s.transitions.duration.shortest}),[`&.${y.expanded}`]:{transform:"rotate(180deg)"}})),Re=f.forwardRef(function(t,e){const i=T({props:t,name:"MuiAccordionSummary"}),{children:d,className:c,expandIcon:u,focusVisibleClassName:m,onClick:l}=i,b=P(i,Ce),{disabled:x=!1,disableGutters:a,expanded:r,toggle:n}=f.useContext(G),v=p=>{n&&n(p),l&&l(p)},j=g({},i,{expanded:r,disabled:x,disableGutters:a}),C=ye(j);return o.jsxs(we,g({focusRipple:!1,disableRipple:!0,disabled:x,component:"div","aria-expanded":r,className:R(C.root,c),focusVisibleClassName:R(C.focusVisible,m),onClick:v,ref:e,ownerState:j},b,{children:[o.jsx(Ae,{className:C.content,ownerState:j,children:d}),u&&o.jsx(Ne,{className:C.expandIconWrapper,ownerState:j,children:u})]}))}),Ve=({auth:s,exam:t})=>{const e=O({title:t?t.title:"",description:t?t.description:"",start_date:t?t.start_date:"",end_date:t?t.end_date:"",duration:t?t.duration:"",subject_id:t?t.subject_id:"",grade:t?t.grade:"",questions:t?t.questions:[{question:"",option1:"",option2:"",option3:"",option4:"",answer:"option1",description:""}]}),i=[{name:"Biology",id:"1"},{name:"Chemistry",id:"2"},{name:"Physics",id:"3"}],d=a=>{a.preventDefault(),t?e.put(`/exam/${t.id}`,{onSuccess:()=>{W.success("Exam updated successfully")}}):e.post("/exam",{onSuccess:()=>{W.success("Exam created successfully"),u()}})};function c(){e.setData("questions",[...e.data.questions,{question:"",option1:"",option2:"",option3:"",option4:"",answer:"option1",description:""}])}const u=()=>{e.setData({title:"",description:"",start_date:"",end_date:"",duration:"",subject_id:"",grade:"",questions:[{question:"",option1:"",option2:"",option3:"",option4:"",answer:"option1",description:""}]})};function m(a){if(e.data.questions.length===1)return null;const r=[...e.data.questions];r.splice(a,1),console.log(r),e.setData("questions",r)}const l=(a,r,n)=>{e.clearErrors();const v=[...e.data.questions];v[a][r]=n,e.setData({...e.data,questions:v})},[b,x]=f.useState(0);return o.jsxs(J,{user:s.user,children:[o.jsx(Y,{title:"Add Exam"}),o.jsx("div",{className:"w-full p-5",children:o.jsx("div",{className:" rounded-md gap-5",children:o.jsxs("form",{onSubmit:d,className:"flex flex-col gap-5 w-full",children:[o.jsxs("div",{className:"flex w-full gap-5",children:[o.jsxs("div",{className:"w-[30%] flex flex-col gap-5 bg-white p-5 py-10 rounded-md shadow-md",children:[o.jsx("p",{className:"font-space text-lg font-semibold",children:"Exam Details"}),o.jsxs(X,{fullWidth:!0,error:e.errors.subject_id,children:[o.jsx(Z,{children:"Subject"}),o.jsx(ee,{value:e.data.subject_id,label:"Subject",onChange:a=>e.setData("subject_id",a.target.value),children:i.map(a=>o.jsx(se,{value:a.id,children:a.name},a.id))}),o.jsx(oe,{children:e.errors.subject_id})]}),o.jsx(h,{label:"Title",id:"outlined-basic",variant:"outlined",error:e.errors.title,helperText:e.errors.title,fullWidth:!0,sx:{outline:"none"},value:e.data.title,onChange:a=>e.setData("title",a.target.value)}),o.jsx(h,{label:"Duration(minutes)",id:"outlined-basic",variant:"outlined",error:e.errors.duration,helperText:e.errors.duration,fullWidth:!0,value:e.data.duration,onChange:a=>e.setData("duration",a.target.value)}),o.jsx(h,{label:"Description",id:"outlined-basic",variant:"outlined",error:e.errors.description,helperText:e.errors.description,fullWidth:!0,value:e.data.description,onChange:a=>e.setData("description",a.target.value)})]}),o.jsxs("div",{className:"w-[70%] bg-white rounded-md shadow-md p-5 py-10",children:[o.jsxs("div",{className:"flex justify-between items-center cursor-pointer",children:[o.jsx("p",{className:"font-space text-lg font-semibold",children:"Questions"}),o.jsxs(B,{onClick:c,variant:"contained",children:[o.jsx(te,{}),"Add Question"]})]}),o.jsx("div",{className:"mt-5 flex flex-col gap-1",children:e.data.questions.map((a,r)=>o.jsxs("div",{className:"flex gap-1",children:[o.jsxs(fe,{expanded:b===r,onChange:()=>x(b===r?-1:r),className:"w-full rounded-md",children:[o.jsxs(Re,{expandIcon:o.jsx(le,{}),children:["Question #",r+1]}),o.jsx(ve,{children:o.jsxs("div",{className:"",children:[o.jsx(h,{error:e.errors[`questions.${r}.question`],helperText:e.errors[`questions.${r}.question`],onChange:n=>l(r,"question",n.target.value),value:a.question,label:"Please insert question here...",multiline:!0,rows:3,fullWidth:!0}),o.jsxs("div",{className:"",children:[o.jsxs("div",{className:"flex py-5 justify-between",children:[o.jsxs("div",{className:"flex ",children:[o.jsx(A,{value:"option1",checked:a.answer==="option1",onChange:n=>l(r,"answer",n.target.value)}),o.jsx(h,{label:"option A",error:e.errors[`questions.${r}.option1`],helperText:e.errors[`questions.${r}.option1`],onChange:n=>l(r,"option1",n.target.value),value:a.option1})]}),o.jsxs("div",{className:"flex ",children:[o.jsx(A,{value:"option2",checked:a.answer==="option2",onChange:n=>l(r,"answer",n.target.value)}),o.jsx(h,{label:"option B",error:e.errors[`questions.${r}.option2`],helperText:e.errors[`questions.${r}.option2`],onChange:n=>l(r,"option2",n.target.value),value:a.option2})]})]}),o.jsxs("div",{className:"flex py-5 justify-between",children:[o.jsxs("div",{className:"flex ",children:[o.jsx(A,{value:"option3",checked:a.answer==="option3",onChange:n=>l(r,"answer",n.target.value)}),o.jsx(h,{label:"option C",placeholder:"optional",error:e.errors[`questions.${r}.option3`],helperText:e.errors[`questions.${r}.option3`],onChange:n=>l(r,"option3",n.target.value),value:a.option3})]}),o.jsxs("div",{className:"flex ",children:[o.jsx(A,{value:"option4",checked:a.answer==="option4",onChange:n=>l(r,"answer",n.target.value)}),o.jsx(h,{label:"option D",placeholder:"optional",error:e.errors[`questions.${r}.option4`],helperText:e.errors[`questions.${r}.option4`],onChange:n=>l(r,"option4",n.target.value),value:a.option4})]})]})]})]})})]})," ",o.jsx("div",{className:"w-10 flex justify-center items-center bg-red-400 rounded-md cursor-pointer",onClick:()=>m(r),children:o.jsx(de,{})})]},r))})]})]}),o.jsx("div",{className:"flex w-full",children:o.jsx(B,{fullWidth:!0,variant:"contained",type:"submit",disabled:e.processing,children:t?"update":"submit"})})]})})})]})};export{Ve as default};
